<style lang=scss scop>
tr > td:nth-child(1) {
  white-space: nowrap;
}
</style>

# [ESLint](https://eslint.org) <Badge type="tip" text="^9.39.2" />

**Eslint9 ä¸»è¦å˜åŒ–**ï¼š

1. **æ–°çš„[æ‰å¹³åŒ–é…ç½®ç³»ç»Ÿ](/others/devtools/flat-config.md)**ï¼šä» `.eslintrc.*` è¿ç§»åˆ° `eslint.config.js`
2. **æ¨¡å—åŒ–é…ç½®**ï¼šES æ¨¡å—æ ¼å¼ï¼Œæ”¯æŒå¯¼å…¥/å¯¼å‡º
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šæ›´å¿«çš„é…ç½®è§£æå’Œè§„åˆ™åŠ è½½
4. **TypeScript åŸç”Ÿæ”¯æŒ**ï¼šæ”¹è¿›çš„ TypeScript é›†æˆ
5. **æ›´ç®€å•çš„æ’ä»¶ç³»ç»Ÿ**ï¼šç®€åŒ–çš„æ’ä»¶å®šä¹‰å’ŒåŠ è½½

## Eslint æ˜¯ä»€ä¹ˆ

ESLint åœ¨ç°ä»£å‰ç«¯å¼€å‘æµç¨‹ä¸­æ‰®æ¼”ç€ä»£ç "å¥åº·æ£€æŸ¥å®˜"çš„è§’è‰²ï¼Œå®ƒåœ¨æ•´ä¸ªå¼€å‘å‘¨æœŸçš„å…³é”®èŠ‚ç‚¹æä¾›è´¨é‡ä¿éšœï¼š

```mermaid
graph TD
    A[ä»£ç ç¼–å†™] --> B[ESLintæ£€æŸ¥]
    B --> C{é—®é¢˜ç±»å‹}
    C -->|å¯è‡ªåŠ¨ä¿®å¤| D[ä»£ç ä¿®å¤/ä¼˜åŒ–]
    C -->|éœ€è¦æ‰‹åŠ¨å¤„ç†| E[å¼€å‘è€…ä»‹å…¥]
    D --> F[æäº¤/æ„å»º]
    E --> F
    B -.-> G[å®æ—¶åé¦ˆ<br/>IDEé›†æˆ]
    F -.-> H[æŒç»­é›†æˆ<br/>CI/CDé›†æˆ]

    style A fill:#e1f5fe
    style B fill:#fff3e0
    style F fill:#e8f5e8
    style G fill:#f3e5f5
    style H fill:#ffecb3
```

### ä¸»è¦ä»·å€¼ä½“ç°

#### ğŸ¯ ä»£ç è´¨é‡æå‡

- **é”™è¯¯é¢„é˜²**ï¼šåœ¨ä»£ç æ‰§è¡Œå‰å‘ç°è¯­æ³•é”™è¯¯ã€ç±»å‹é—®é¢˜
- **æ½œåœ¨é£é™©è¯†åˆ«**ï¼šæ£€æµ‹æœªä½¿ç”¨å˜é‡ã€å¯èƒ½çš„é€»è¾‘é”™è¯¯ã€å®‰å…¨æ¼æ´
- **æœ€ä½³å®è·µéµå¾ª**ï¼šå¼•å¯¼å¼€å‘è€…é‡‡ç”¨ä¸šç•Œå…¬è®¤çš„æœ€ä½³ç¼–ç æ¨¡å¼

#### ğŸ—ï¸ ä»£ç ä¸€è‡´æ€§ä¿éšœ

- **å›¢é˜Ÿè§„èŒƒç»Ÿä¸€**ï¼šå¼ºåˆ¶æ‰§è¡Œç»Ÿä¸€çš„ç¼–ç é£æ ¼ï¼ˆå‘½åã€æ ¼å¼ã€ç»“æ„ï¼‰
- **å†å²ä»£ç ç»´æŠ¤**ï¼šç¡®ä¿æ–°æ—§ä»£ç éµå¾ªç›¸åŒæ ‡å‡†ï¼Œé™ä½æŠ€æœ¯å€ºåŠ¡
- **è·¨é¡¹ç›®ä¸€è‡´æ€§**ï¼šåœ¨å¤šä¸ªé¡¹ç›®ä¸­å¤ç”¨é…ç½®ï¼Œä¿æŒç»Ÿä¸€æŠ€æœ¯æ ˆé£æ ¼

#### âš¡ å¼€å‘æ•ˆç‡ä¼˜åŒ–

- **å³æ—¶åé¦ˆ**ï¼šIDEä¸­å®æ—¶æ˜¾ç¤ºé—®é¢˜ï¼Œå‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢
- **è‡ªåŠ¨åŒ–ä¿®å¤**ï¼šä¸€é”®ä¿®å¤å¸¸è§é—®é¢˜ï¼ŒèŠ‚çœæ‰‹åŠ¨ä¿®æ”¹æ—¶é—´
- **å‡å°‘è°ƒè¯•æ—¶é—´**ï¼šæå‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œé¿å…è¿è¡Œæ—¶è°ƒè¯•

#### ğŸ¤ å›¢é˜Ÿåä½œå¢å¼º

- **é™ä½Reviewæˆæœ¬**ï¼šè‡ªåŠ¨å¤„ç†é£æ ¼é—®é¢˜ï¼Œè®©Code Reviewèšç„¦é€»è¾‘å’Œæ¶æ„
- **æ–°äººå¿«é€Ÿä¸Šæ‰‹**ï¼šç»Ÿä¸€è§„èŒƒå¸®åŠ©æ–°æˆå‘˜å¿«é€Ÿé€‚åº”é¡¹ç›®ä»£ç é£æ ¼
- **çŸ¥è¯†ä¼ æ‰¿**ï¼šé€šè¿‡è§„åˆ™é…ç½®æ²‰æ·€å›¢é˜Ÿçš„æœ€ä½³å®è·µå’Œç»éªŒ

### æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

| ç‰¹æ€§              | åŠŸèƒ½æè¿°                                        | å®é™…åº”ç”¨åœºæ™¯                                    |
| ----------------- | ----------------------------------------------- | ----------------------------------------------- |
| **ğŸ” é™æ€åˆ†æ**   | é€šè¿‡ASTè§£æä»£ç ç»“æ„ï¼Œä¸æ‰§è¡Œä»£ç å³å¯åˆ†ææ½œåœ¨é—®é¢˜ | åœ¨CI/CDæµæ°´çº¿ä¸­å¿«é€Ÿæ£€æŸ¥å¤§è§„æ¨¡ä»£ç åº“             |
| **âš™ï¸ è§„åˆ™ç³»ç»Ÿ**   | 300+å†…ç½®è§„åˆ™ + æ— é™æ‰©å±•èƒ½åŠ›ï¼Œæ”¯æŒç²¾ç»†é…ç½®       | æ ¹æ®é¡¹ç›®é˜¶æ®µè°ƒæ•´è§„åˆ™ä¸¥æ ¼åº¦ï¼ˆå¼€å‘å®½æ¾/ç”Ÿäº§ä¸¥æ ¼ï¼‰ |
| **ğŸ”§ è‡ªåŠ¨ä¿®å¤**   | å®‰å…¨åœ°è‡ªåŠ¨ä¿®å¤å¯é¢„æµ‹çš„é—®é¢˜ç±»å‹                  | ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤åˆ†å·ã€å¼•å·ã€ç¼©è¿›ç­‰æ ¼å¼é—®é¢˜        |
| **ğŸ§© æ’ä»¶ä½“ç³»**   | ç¤¾åŒºé©±åŠ¨çš„æ’ä»¶ç”Ÿæ€ï¼Œæ”¯æŒæ¡†æ¶ç‰¹å®šè§„åˆ™            | Vue/React/Angularç­‰æ¡†æ¶çš„æœ€ä½³å®è·µæ£€æŸ¥           |
| **ğŸšï¸ é…ç½®çµæ´»**   | æ”¯æŒå…¨å±€ã€é¡¹ç›®ã€ç›®å½•ã€æ–‡ä»¶çº§åˆ«çš„è§„åˆ™è¦†ç›–        | æµ‹è¯•æ–‡ä»¶ä½¿ç”¨å®½æ¾è§„åˆ™ï¼Œç”Ÿäº§ä»£ç ä½¿ç”¨ä¸¥æ ¼è§„åˆ™      |
| **ğŸš€ ç°ä»£åŒ–æ”¯æŒ** | åŸç”Ÿæ”¯æŒES6+/TypeScript/JSXç­‰ç°ä»£è¯­æ³•           | ç›´æ¥æ£€æŸ¥TypeScriptç±»å‹æ³¨è§£å’Œè£…é¥°å™¨è¯­æ³•          |

### æ”¯æŒçš„å¼€å‘ç”Ÿæ€

ESLinté€šè¿‡å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›æ”¯æŒå…¨æ ˆJavaScriptç”Ÿæ€ï¼š

#### ğŸ“¦ è¯­è¨€ä¸æ¡†æ¶

- **JavaScriptå…¨ç‰ˆæœ¬**ï¼šES5ã€ES6(2015)åˆ°ESNextæœ€æ–°ç‰¹æ€§
- **TypeScript**ï¼šé€šè¿‡`@typescript-eslint`æä¾›å®Œæ•´çš„TSè¯­æ³•æ£€æŸ¥
- **React/JSX**ï¼šæ£€æŸ¥JSXè¯­æ³•ã€Hookä½¿ç”¨è§„åˆ™ã€ç»„ä»¶æœ€ä½³å®è·µ
- **Vue.js**ï¼šå•æ–‡ä»¶ç»„ä»¶æ¨¡æ¿æ£€æŸ¥ã€Vue 3 Composition APIè§„åˆ™
- **Node.js**ï¼šCommonJSæ¨¡å—ã€å…¨å±€å˜é‡ã€æœåŠ¡ç«¯æœ€ä½³å®è·µ

#### ğŸ”Œ æ‰©å±•èƒ½åŠ›

- **è‡ªå®šä¹‰è§£æå™¨**ï¼šæ”¯æŒBabelã€Flowç­‰éæ ‡å‡†è¯­æ³•
- **å¤„ç†å™¨æ”¯æŒ**ï¼šå¯å¤„ç†Markdownä¸­çš„ä»£ç å—ã€HTMLä¸­çš„è„šæœ¬
- **å…±äº«é…ç½®**ï¼šå‘å¸ƒå’Œå¤ç”¨å›¢é˜Ÿé…ç½®ï¼ˆå¦‚`eslint-config-airbnb`ï¼‰
- **è‡ªå®šä¹‰è§„åˆ™**ï¼šç¼–å†™é¡¹ç›®ç‰¹å®šè§„åˆ™ï¼Œè§£å†³å›¢é˜Ÿç‹¬ç‰¹éœ€æ±‚

#### ğŸ”— å·¥å…·é“¾é›†æˆ

- **æ„å»ºå·¥å…·**ï¼šWebpackã€Viteã€Rollupæ’ä»¶
- **ç¼–è¾‘å™¨**ï¼šVS Codeã€WebStormã€Sublimeã€Vim/Neovim
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šGit Hooksã€GitHub Actionsã€GitLab CI
- **é¡¹ç›®ç®¡ç†**ï¼šä¸Jiraã€Linearç­‰ä»»åŠ¡ç®¡ç†å·¥å…·çš„æŠ¥å‘Šé›†æˆ

## ESLint ä»€ä¹ˆåœºæ™¯ç”¨

ESLint çš„ä½¿ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œå¯ä»¥é›†æˆåˆ°å¼€å‘æµç¨‹çš„å„ä¸ªç¯èŠ‚:

1. **Vue é¡¹ç›®ä¸­ä½¿ç”¨**ï¼š
   - æ¨¡æ¿è¯­æ³•æ£€æŸ¥ï¼šæ£€æŸ¥ Vue å•æ–‡ä»¶ç»„ä»¶ä¸­æ¨¡æ¿çš„è¯­æ³•å’Œæœ€ä½³å®è·µ
   - Vue ç‰¹å®šè§„åˆ™ï¼šéªŒè¯ç»„ä»¶å‘½åã€Props å®šä¹‰ã€ç”Ÿå‘½å‘¨æœŸä½¿ç”¨ç­‰ Vue ç‰¹æ€§
   - ç»„åˆå¼ API æ£€æŸ¥ï¼šç¡®ä¿ Vue 3 ç»„åˆå¼ API çš„æ­£ç¡®ä½¿ç”¨
   - ä¸ Vetur/Volar é…åˆï¼šåœ¨ Vue å¼€å‘å·¥å…·ä¸­é›†æˆ ESLint æ£€æŸ¥

2. **VS Code ä¸­é›†æˆæ’ä»¶**ï¼š
   - å®æ—¶é”™è¯¯æç¤ºï¼šç¼–è¾‘ä»£ç æ—¶å³æ—¶æ˜¾ç¤ºé—®é¢˜ï¼Œæ— éœ€ç­‰å¾…æ„å»º
   - è‡ªåŠ¨ä¿®å¤ï¼šä¿å­˜æ—¶æˆ–æ‰‹åŠ¨è§¦å‘è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„é—®é¢˜
   - æ‚¬æµ®æç¤ºï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºè§„åˆ™è¯´æ˜å’Œä¿®å¤å»ºè®®
   - é—®é¢˜é¢æ¿ï¼šé›†ä¸­æŸ¥çœ‹å½“å‰æ–‡ä»¶çš„æ‰€æœ‰é—®é¢˜
   - ä¸ Prettier ååŒï¼šä»£ç æ ¼å¼åŒ–ä¸è´¨é‡æ£€æŸ¥åˆ†ç¦»

3. **Git æäº¤æ—¶**ï¼š
   - é¢„æäº¤é’©å­ï¼šåœ¨ commit å‰è‡ªåŠ¨æ£€æŸ¥ï¼Œé˜²æ­¢é—®é¢˜è¿›å…¥ä»“åº“
   - å¢é‡æ£€æŸ¥ï¼šåªæ£€æŸ¥å˜æ›´æ–‡ä»¶ï¼Œæé«˜æ£€æŸ¥æ•ˆç‡
   - è‡ªåŠ¨ä¿®å¤æäº¤ï¼šä¿®å¤åå¯è‡ªåŠ¨é‡æ–°æäº¤
   - æäº¤ä¿¡æ¯è§„èŒƒï¼šæ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼ï¼ˆéœ€é…åˆ commitlintï¼‰

4. **CI/CD æµæ°´çº¿ä¸­**ï¼š
   - è´¨é‡é—¨ç¦ï¼šä½œä¸ºæµæ°´çº¿çš„ä¸€ç¯ï¼Œé˜»æ­¢ä¸è¾¾æ ‡ä»£ç åˆå¹¶
   - è‡ªåŠ¨åŒ–æ£€æŸ¥ï¼šæ¯æ¬¡æäº¤æˆ–æ„å»ºæ—¶è‡ªåŠ¨è¿è¡Œ
   - æŠ¥å‘Šç”Ÿæˆï¼šç”Ÿæˆæ£€æŸ¥æŠ¥å‘Šä¾›åˆ†æå’Œè¶‹åŠ¿è·Ÿè¸ª
   - å¤šç¯å¢ƒéªŒè¯ï¼šç¡®ä¿å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒè§„åˆ™ä¸€è‡´
   - ä¸ä»£ç è¦†ç›–ç‡ç»“åˆï¼šç»¼åˆè¯„ä¼°ä»£ç è´¨é‡

5. æ„å»ºå·¥å…·é›†æˆ
   - Webpackï¼šé€šè¿‡æ’ä»¶åœ¨æ„å»ºè¿‡ç¨‹ä¸­æ£€æŸ¥
   - Viteï¼šå¼€å‘æœåŠ¡å™¨ä¸­å®æ—¶æ£€æŸ¥
   - Rollupï¼šæ„å»ºæµç¨‹ä¸­çš„è´¨é‡æ£€æŸ¥
   - Babelï¼šä¸è½¬æ¢è¿‡ç¨‹ç»“åˆæ£€æŸ¥

## ESLint9 æ€ä¹ˆç”¨

åœ¨æœ¬èŠ‚æˆ‘ä»¬å±•å¼€è¯´æ˜ **åœ¨ Vue ä¸­ä½¿ç”¨ Eslint** ä»¥åŠ **åœ¨ Vscode ä¸­é›†æˆ Eslint æ’ä»¶**ã€‚

å½“æˆ‘ä»¬ä½¿ç”¨ **Eslint9**æ—¶ ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ `eslint.config.js`åï¼ŒäºŒè€…éƒ½ä¼šä½¿ç”¨åŒä¸€å¥—é…ç½®è§„åˆ™ã€‚

:::tip å¯¹äºVS Codeçš„ESLintæ’ä»¶ï¼š

å½“ä½ åœ¨VS Codeä¸­æ‰“å¼€é¡¹ç›®æ—¶ï¼ŒESLintæ’ä»¶ä¼šæŸ¥æ‰¾é¡¹ç›®ä¸­çš„ESLinté…ç½®æ–‡ä»¶

å¹¶æ ¹æ®è¿™äº›é…ç½®æ¥å¯¹ä»£ç è¿›è¡Œå®æ—¶æ£€æŸ¥ï¼Œå¹¶åœ¨ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºé”™è¯¯å’Œè­¦å‘Šã€‚
:::

::: tip å¯¹äºé¡¹ç›®ä¸­çš„ESLintä¾èµ–ï¼š

å½“ä½ åœ¨é¡¹ç›®ä¸­è¿è¡ŒESLintè„šæœ¬ï¼ˆ`npm run lint`ï¼‰æ—¶ï¼ŒESLintä¾èµ–ä¼šä½¿ç”¨åŒæ ·çš„é…ç½®æ–‡ä»¶æ¥æ£€æŸ¥ä»£ç ã€‚

æ­¤å¤–ï¼Œå¦‚æœä½ åœ¨é¡¹ç›®ä¸­é…ç½®äº†å¦‚vite-plugin-eslintè¿™æ ·çš„æ„å»ºæ’ä»¶ï¼Œå®ƒä¹Ÿä¼šä½¿ç”¨ESLintä¾èµ–å¹¶æŒ‰ç…§é…ç½®æ–‡ä»¶æ¥æ£€æŸ¥ä»£ç ã€‚
:::

## åœ¨ Vue é¡¹ç›®ä¸­ä½¿ç”¨

> To use ESLint, you must have Node.js (^18.18.0, ^20.9.0, or >=21.1.0) installed and built with SSL support.(If you are using an official Node.js distribution, SSL is always built in.)
>
> è¦ä½¿ç”¨ ESLintï¼Œä½ å¿…é¡»å®‰è£…æ»¡è¶³ç‰ˆæœ¬è¦æ±‚çš„ Node.jsï¼ˆç‰ˆæœ¬éœ€ä¸º ^18.18.0ã€^20.9.0 æˆ– â‰¥21.1.0ï¼‰ï¼Œä¸”è¯¥ Node.js éœ€ç¼–è¯‘å†…ç½® SSL æ”¯æŒã€‚ï¼ˆè‹¥ä½ ä½¿ç”¨çš„æ˜¯ Node.js å®˜æ–¹å‘è¡Œç‰ˆï¼Œåˆ™ SSL åŠŸèƒ½å§‹ç»ˆä¸ºé»˜è®¤ç¼–è¯‘å†…ç½®çŠ¶æ€ã€‚ï¼‰

### å®‰è£… Eslint ä¾èµ–

ä½¿ç”¨åˆå§‹åŒ–å™¨æ¥å®‰è£… `Eslint 9` ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š

```bash
# å½“å‰ç‰ˆæœ¬ä¸º @latest -> 9.39.2
npm init @eslint/config@latest
```

æŒ‰ç…§é¡¹ç›®æ¶æ„æ¥é€‰æ‹©ç›¸åº”é…ç½®:

![åˆå§‹åŒ–å™¨é€‰é¡¹](/images/others/devtools/eslint/init-eslint-confg.png)

å®Œæˆé…ç½®åä¼š å¼•å…¥eslintç›¸å…³ä¾èµ– å¹¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ç”Ÿæˆ `eslint.config.js` é…ç½®æ–‡ä»¶ï¼š

:::code-group

```js [eslint.config.js]
import js from "@eslint/js";
import globals from "globals";
import pluginVue from "eslint-plugin-vue";
import { defineConfig } from "eslint/config";

export default defineConfig([
  // ç¬¬ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼šé€‚ç”¨äºæ‰€æœ‰JavaScriptå’ŒVueæ–‡ä»¶çš„åŸºç¡€è§„åˆ™
  {
    files: ["**/*.{js,mjs,cjs,vue}"], // 1. æ–‡ä»¶åŒ¹é…
    plugins: { js }, // 2. åŠ è½½æ’ä»¶
    extends: ["js/recommended"], // 3. ç»§æ‰¿å…±äº«é…ç½®
    languageOptions: {
      // 4. è¯­è¨€ç¯å¢ƒè®¾ç½®
      globals: globals.browser, // 4.1 æŒ‡å®šå…¨å±€å˜é‡
    },
  },
  // ç¬¬äºŒä¸ªé…ç½®å¯¹è±¡ï¼šä¸“é—¨ä¸ºVueæ–‡ä»¶æ·»åŠ çš„è§„åˆ™ï¼ˆæ¥è‡ªvueæ’ä»¶ï¼‰
  pluginVue.configs["flat/essential"], // è¿™æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„å…±äº«é…ç½®
]);
```

```json [package.json]
{
  "scripts": {
    "lint": "eslint .", // [!code hl]
    "lint:report": "eslint . --format json > eslint-report.json" // [!code hl]
  },
  "devDependencies": {
    "@eslint/js": "^9.39.2",
    "eslint": "^9.39.2",
    "eslint-plugin-vue": "^10.7.0",
    "globals": "^17.1.0"
  }
}
```

```js [test.js]
// å¸¸è§æ£€æŸ¥ç±»å‹ç¤ºä¾‹

//  æœªä½¿ç”¨å˜é‡
const unusedVar = 42;

// æœªå£°æ˜å˜é‡
console.log(undeclaredVariable);

//  ä½¿ç”¨åŒç­‰å·
if ("1" == "2") {
}

//  å¯¹è±¡é‡å¤é”®
const obj = {
  name: "Alice",
  name: "Bob",
};
//  å¸¸é‡æ¡ä»¶
if (true) {
  console.log("always");
}
```

:::

### ä½¿ç”¨ eslint å‘½ä»¤

æ‰§è¡Œ Eslint å‘½ä»¤è¿›è¡Œä»£ç æ£€æŸ¥ï¼š

```bash
# æ£€æŸ¥é¡¹ç›®æ–‡ä»¶ï¼Œæ’é™¤é…ç½®çš„å¿½ç•¥ç›®å½•ï¼Œé»˜è®¤æ’é™¤ node_modules
npm run lint
# ç”Ÿæˆ json æ ¼å¼æŠ¥å‘Šæ–‡ä»¶
npm run lint:report
```

æ‰§è¡Œåè¾“å‡ºæ£€æŸ¥ç»“æœ:

![eslint æ£€æŸ¥ç»“æœè¾“å‡ºæˆªå›¾](/images/others/devtools/eslint/eslint-npm-scripts.png)

## åœ¨ VS Code ä¸­ä½¿ç”¨

åœ¨ VS Code ä¸­é›†æˆ Eslint æ’ä»¶åï¼Œå¯ä»¥åœ¨ç¼–è¾‘ä»£ç æ—¶å³æ—¶æ˜¾ç¤ºé—®é¢˜ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œ Eslint å‘½ä»¤ã€‚

### å®‰è£… ESLint æ’ä»¶

åœ¨ VSCode æ‰©å±•å•†åº—æœç´¢ "ESLint"ï¼Œå®‰è£…ç”± Microsoft æä¾›çš„ ESLint æ’ä»¶ã€‚

![VS codeæˆªå›¾](/images/others/devtools/eslint/vscode-plugin-eslint.png)

### æ’ä»¶é…ç½®é€‰é¡¹

æˆ‘ä»¬å¯ä»¥åœ¨ Eslint æ’ä»¶çš„ [GitHub](https://github.com/microsoft/vscode-eslint/blob/main/README.md) ä¸»é¡µæŸ¥çœ‹æ’ä»¶é…ç½®é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥åœ¨ æ’ä»¶å¸‚åœº ä¸­æŸ¥çœ‹ï¼š

![Eslint æ’ä»¶æˆªå›¾](/images/others/devtools/eslint/eslint-options.png)

åœ¨ VS Code ä¸­æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©é…ç½® ç”¨æˆ·ã€å·¥ä½œåŒºæˆ–é¡¹ç›®çº§åˆ«çš„ `settings.json`ï¼š

::: code-group

```json [.vscode/settings.json]
// å¸¸ç”¨é…ç½®é€‰é¡¹ - æ–‡ä»¶å¤¹çº§åˆ«
{
  // å¯ç”¨ ESLint
  "eslint.enable": true,

  // ä¸ºä»¥ä¸‹æ–‡ä»¶ç±»å‹å¯ç”¨ ESLint
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "vue", // [!code hl]
    "typescript",
    "typescriptreact",
    "html"
  ]
}
```

```txt [ eslint å…¨éƒ¨é…ç½®é€‰é¡¹]
eslint.enableï¼š å¯ç”¨/ç¦ç”¨å·¥ä½œåŒºæ–‡ä»¶å¤¹çš„ESLintã€‚é»˜è®¤æƒ…å†µä¸‹ä¸ºå¯ç”¨çŠ¶æ€ã€‚

eslint.debugï¼š å¯ç”¨ESLintçš„è°ƒè¯•æ¨¡å¼ï¼ˆä¸--debugå‘½ä»¤è¡Œé€‰é¡¹ç›¸åŒï¼‰ã€‚è¯·æŸ¥çœ‹ESLintè¾“å‡ºé€šé“ä»¥è·å–è°ƒè¯•è¾“å‡ºã€‚æ­¤é€‰é¡¹å¯¹äºæ’æŸ¥ESLintçš„é…ç½®å’Œå®‰è£…é—®é¢˜éå¸¸æœ‰å¸®åŠ©ï¼Œå› ä¸ºå®ƒä¼šæä¾›æœ‰å…³ESLintå¦‚ä½•éªŒè¯æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚

eslint.lintTask.enableï¼š æ‰©å±•æ˜¯å¦æä¾›ä¸€ä¸ª lint ä»»åŠ¡æ¥æ£€æŸ¥æ•´ä¸ªå·¥ä½œåŒºæ–‡ä»¶å¤¹ã€‚

eslint.lintTask.optionsï¼šè¿è¡Œç”¨äºæ£€æŸ¥æ•´ä¸ªå·¥ä½œåŒºçš„ä»»åŠ¡æ—¶åº”ç”¨çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼ˆhttps://eslint.org/docs/user-guide/command-line-interfaceï¼‰ã€‚æŒ‡å‘è‡ªå®šä¹‰.eslintrc.jsonæ–‡ä»¶å’Œè‡ªå®šä¹‰.eslintignoreçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š
{
  "eslint.lintTask.options": "-c C:/mydirectory/.eslintrc.json --ignore-path C:/mydirectory/.eslintignore ."
}

æ—§çš„eslint.packageManagerè®¾ç½®ç°å·²å¼ƒç”¨ï¼Œå¯ä»¥å®‰å…¨åœ°ç§»é™¤ã€‚å®ƒç”¨äºæ§åˆ¶ç”¨äºè§£æESLintåº“çš„åŒ…ç®¡ç†å™¨ã€‚è¿™ä»…åœ¨å…¨å±€è§£æESLintåº“æ—¶æ‰ä¼šäº§ç”Ÿå½±å“ã€‚æœ‰æ•ˆå€¼ä¸º"npm"ã€"yarn"æˆ–"pnpm"ã€‚

eslint.optionsï¼šç”¨äºé…ç½®å¦‚ä½•ä½¿ç”¨ESLintç±»APIæˆ–CLIEngine APIå¯åŠ¨ESLintçš„é€‰é¡¹ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ESLint 8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œæˆ–è€…ä½¿ç”¨çš„æ˜¯ESLint 7ä¸”è®¾ç½®eslint.useESLintCLassä¸ºtrueï¼Œè¯¥æ‰©å±•å°†ä½¿ç”¨ESLintç±»APIã€‚åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œå°†ä½¿ç”¨CLIEngine APIã€‚ä½¿ç”¨æ–°çš„ESLint APIæŒ‡å‘è‡ªå®šä¹‰.eslintrc.jsonæ–‡ä»¶çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š
{
  "eslint.options": { "overrideConfigFile": "C:/mydirectory/.eslintrc.json" }
}

è¯·æ³¨æ„ï¼Œå¦‚æœä½ è¦†ç›–äº†é…ç½®æ–‡ä»¶çš„ä½ç½®å¹¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æŒ‡å®šä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œä»¥ç¡®ä¿é…ç½®æ–‡ä»¶æ˜¯ç›¸å¯¹äºè¯¥ç›®å½•æ¥è§£æçš„ã€‚
ä½¿ç”¨æ—§ç‰ˆCLIEngine APIæŒ‡å‘è‡ªå®šä¹‰.eslintrc.jsonæ–‡ä»¶çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š
{
  "eslint.options": { "configFile": "C:/mydirectory/.eslintrc.json" }
}

eslint.useESLintClassï¼ˆ@since 2.2.0ï¼‰- æ— è®ºæ˜¯å¦å­˜åœ¨CLIEngine APIï¼Œæ˜¯å¦ä½¿ç”¨ESLintç±»APIã€‚æ­¤è®¾ç½®ä»…åœ¨ä½¿ç”¨ESLint 7.xç‰ˆæœ¬æ—¶ç”Ÿæ•ˆã€‚

eslint.run - è¿è¡Œä»£ç æ£€æŸ¥å·¥å…·ï¼Œå¯é€‰æ‹©onSaveæˆ–onTypeï¼Œé»˜è®¤æ˜¯onTypeã€‚

eslint.quiet - å¿½ç•¥è­¦å‘Šï¼Œé»˜è®¤å€¼ä¸ºfalseã€‚

eslint.runtime - ä½¿ç”¨æ­¤è®¾ç½®æ¥æŒ‡å®šè¿è¡ŒESLintæ‰€ä½¿ç”¨çš„nodeè¿è¡Œæ—¶è·¯å¾„ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç‰ˆæœ¬çš„nodeï¼Œè¯·ä½¿ç”¨"node"ã€‚
æ³¨æ„ è‹¥å‡ºç°é”™è¯¯Unable to resolve your shell environment in a reasonable time.ï¼Œå¯è€ƒè™‘å¢åŠ application.shellEnvironmentResolutionTimeoutä¸­çš„è¶…æ—¶æ—¶é—´ã€‚
æ³¨æ„ å¦‚æœä½ æ­£åœ¨ä½¿ç”¨è¿œç¨‹è¿æ¥ï¼ˆä¾‹å¦‚ï¼ŒWSLã€è¿œç¨‹SSHã€å¼€å‘å®¹å™¨ç­‰ï¼‰å¹¶ä¸”ä¸æƒ³ä¿®æ”¹å·¥ä½œåŒºèŒƒå›´çš„è®¾ç½®ï¼Œä½ éœ€è¦é€šè¿‡å‘½ä»¤é¢æ¿è¿è¡Œâ€œé¦–é€‰é¡¹ï¼šæ‰“å¼€è¿œç¨‹è®¾ç½®ï¼ˆJSONï¼‰â€å‘½ä»¤ã€‚åœ¨é‚£é‡Œè®¾ç½®æ‰€éœ€çš„é€‰é¡¹ï¼Œç„¶åé‡æ–°åŠ è½½ç¼–è¾‘å™¨ä»¥ç¡®ä¿ä»£ç æ£€æŸ¥å™¨æœåŠ¡å™¨åº”ç”¨è¿™äº›æ›´æ”¹ã€‚

eslint.execArgv - ä½¿ç”¨æ­¤è®¾ç½®å°†é¢å¤–å‚æ•°ä¼ é€’ç»™èŠ‚ç‚¹è¿è¡Œæ—¶ï¼Œä¾‹å¦‚--max-old-space-size=4096
æ³¨æ„ å¦‚æœä½ æ­£åœ¨ä½¿ç”¨è¿œç¨‹è¿æ¥ï¼ˆä¾‹å¦‚ï¼ŒWSLã€è¿œç¨‹SSHã€å¼€å‘å®¹å™¨ç­‰ï¼‰å¹¶ä¸”ä¸æƒ³ä¿®æ”¹å·¥ä½œåŒºèŒƒå›´çš„è®¾ç½®ï¼Œä½ éœ€è¦é€šè¿‡å‘½ä»¤é¢æ¿è¿è¡Œâ€œé¦–é€‰é¡¹ï¼šæ‰“å¼€è¿œç¨‹è®¾ç½®ï¼ˆJSONï¼‰â€å‘½ä»¤ã€‚åœ¨é‚£é‡Œè®¾ç½®æ‰€éœ€çš„é€‰é¡¹ï¼Œç„¶åé‡æ–°åŠ è½½ç¼–è¾‘å™¨ä»¥ç¡®ä¿ä»£ç æ£€æŸ¥å™¨æœåŠ¡å™¨åº”ç”¨è¿™äº›æ›´æ”¹ã€‚

eslint.nodeEnv - å¦‚æœESLintæ’ä»¶æˆ–é…ç½®éœ€è¦å®šä¹‰process.env.NODE_ENVï¼Œè¯·ä½¿ç”¨æ­¤è®¾ç½®ã€‚

eslint.nodePath - å¦‚æœæ— æ³•æ£€æµ‹åˆ°å·²å®‰è£…çš„ESLintåŒ…ï¼Œè¯·ä½¿ç”¨æ­¤è®¾ç½®ï¼Œä¾‹å¦‚/myGlobalNodePackages/node_modulesã€‚

eslint.probe - ä¸€ä¸ªè¯­è¨€æ ‡è¯†ç¬¦æ•°ç»„ï¼ŒESLint æ‰©å±•åº”é’ˆå¯¹è¿™äº›æ ‡è¯†ç¬¦æ¿€æ´»å¹¶å°è¯•éªŒè¯æ–‡ä»¶ã€‚å¦‚æœå¯¹æ¢æµ‹åˆ°çš„è¯­è¨€çš„éªŒè¯å¤±è´¥ï¼Œæ‰©å±•å°†ä¿æŒé™é»˜ã€‚é»˜è®¤å€¼ä¸º ["astro", "civet", "javascript", "javascriptreact", "typescript", "typescriptreact", "html", "mdx", "vue", "markdown", "json", "jsonc"]ã€‚

eslint.validate - ä¸€ä¸ªè¯­è¨€æ ‡è¯†ç¬¦æ•°ç»„ï¼Œç”¨äºæŒ‡å®šè¦å¼ºåˆ¶æ‰§è¡ŒéªŒè¯çš„æ–‡ä»¶ã€‚å¦‚æœæŒ‡å®šäº†è¯¥æ•°ç»„ï¼Œåˆ™åªæœ‰å…·æœ‰å…¶ä¸­ä¸€ä¸ªæŒ‡å®šè¯­è¨€IDçš„æ–‡ä»¶æ‰ä¼šè¢«éªŒè¯ã€‚è¿™ç±»ä¼¼äº--extå‘½ä»¤è¡Œé€‰é¡¹ã€‚é»˜è®¤å€¼ä¸ºnullã€‚

eslint.format.enableï¼šå¯ç”¨ESLintä½œä¸ºå·²éªŒè¯æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ã€‚å°½ç®¡ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®editor.formatOnSaveåœ¨ä¿å­˜æ—¶ä½¿ç”¨è¯¥æ ¼å¼åŒ–å·¥å…·ï¼Œä½†å»ºè®®ä½¿ç”¨editor.codeActionsOnSaveåŠŸèƒ½ï¼Œå› ä¸ºå®ƒå…·æœ‰æ›´å¥½çš„å¯é…ç½®æ€§ã€‚

eslint.workingDirectories - æŒ‡å®šESLintæ‰€ä½¿ç”¨çš„å·¥ä½œç›®å½•çš„è®¡ç®—æ–¹å¼ã€‚ESLintä¼šç›¸å¯¹äºå·¥ä½œç›®å½•è§£æé…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚eslintrcã€.eslintignoreï¼‰ï¼Œå› æ­¤æ­£ç¡®é…ç½®æ­¤é¡¹ååˆ†é‡è¦ã€‚å¦‚æœåœ¨ç»ˆç«¯ä¸­æ‰§è¡ŒESLintæ—¶éœ€è¦å°†ç»ˆç«¯çš„å·¥ä½œç›®å½•åˆ‡æ¢åˆ°å­æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆé€šå¸¸éœ€è¦è°ƒæ•´æ­¤è®¾ç½®ï¼ˆå¦è¯·å‚è§ESLintç±»é€‰é¡¹#cwdï¼‰ã€‚è¿˜è¯·è®°ä½ï¼Œ.eslintrc*æ–‡ä»¶ä¼šè€ƒè™‘çˆ¶ç›®å½•è¿›è¡Œè§£æï¼Œè€Œ.eslintignoreæ–‡ä»¶ä»…åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ç”Ÿæ•ˆã€‚å¯ä½¿ç”¨ä»¥ä¸‹å€¼ï¼š
[{ "mode": "location" }]ï¼ˆ@since 2.0.0ï¼‰ï¼šæŒ‡ç¤ºESLintä½¿ç”¨å·¥ä½œåŒºæ–‡ä»¶å¤¹ä½ç½®æˆ–æ–‡ä»¶ä½ç½®ï¼ˆå¦‚æœæ²¡æœ‰æ‰“å¼€å·¥ä½œåŒºæ–‡ä»¶å¤¹ï¼‰ä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œä¸æ—§ç‰ˆæœ¬çš„ESLintæ‰©å±•ï¼ˆ1.9.xç‰ˆæœ¬ï¼‰ä¸­ä½¿ç”¨çš„ç­–ç•¥ç›¸åŒã€‚
[{ "mode": "auto" }]ï¼ˆ@since 2.0.0ï¼‰ï¼šæŒ‡ç¤ºESLintæ ¹æ®package.jsonã€eslint.config.jsã€.eslintignoreå’Œ.eslintrc*æ–‡ä»¶çš„ä½ç½®æ¨æ–­å·¥ä½œç›®å½•ã€‚è¿™åœ¨è®¸å¤šæƒ…å†µä¸‹å¯èƒ½æœ‰æ•ˆï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´æ„å¤–ç»“æœã€‚
string[]ï¼šè¦ä½¿ç”¨çš„å·¥ä½œç›®å½•æ•°ç»„ã€‚è€ƒè™‘ä»¥ä¸‹ç›®å½•ç»“æ„ï¼š
root/
  client/
    .eslintrc.json
    client.js
  server/
    .eslintignore
    .eslintrc.json
    server.js
Then using the setting: ç„¶åä½¿ç”¨ä»¥ä¸‹è®¾ç½®ï¼š
  "eslint.workingDirectories": [ "./client", "./server" ]
å°†ä»¥æœåŠ¡å™¨ç›®å½•ä½œä¸ºå½“å‰eslintå·¥ä½œç›®å½•ï¼ŒéªŒè¯æœåŠ¡å™¨ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å®¢æˆ·ç«¯ç›®å½•ä¸­çš„æ–‡ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ESLintæ‰©å±•è¿˜ä¼šå°†è¿›ç¨‹çš„å·¥ä½œç›®å½•æ›´æ”¹ä¸ºæä¾›çš„ç›®å½•ã€‚å¦‚æœä¸å¸Œæœ›è¿™æ ·ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰!cwdå±æ€§çš„å­—é¢é‡ï¼ˆä¾‹å¦‚{ "directory": "./client", "!cwd": true }ï¼‰ã€‚è¿™å°†ä½¿ç”¨å®¢æˆ·ç«¯ç›®å½•ä½œä¸ºESLintå·¥ä½œç›®å½•ï¼Œä½†ä¸ä¼šæ›´æ”¹è¿›ç¨‹çš„å·¥ä½œç›®å½•ã€‚
[{ "pattern": glob pattern }]ï¼ˆ@è‡ª2.0.0èµ·ï¼‰ï¼šå…è®¸æŒ‡å®šä¸€ä¸ªæ¨¡å¼æ¥æ£€æµ‹å·¥ä½œç›®å½•ã€‚è¿™åŸºæœ¬ä¸Šæ˜¯åˆ—å‡ºæ¯ä¸ªç›®å½•çš„å¿«æ·æ–¹å¼ã€‚å¦‚æœæ‚¨æœ‰ä¸€ä¸ªå•ä½“ä»“åº“ï¼Œä¸”æ‰€æœ‰é¡¹ç›®éƒ½ä½äºpackagesæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨{ "pattern": "./packages/*/" }æ¥å°†æ‰€æœ‰è¿™äº›æ–‡ä»¶å¤¹è®¾ä¸ºå·¥ä½œç›®å½•ã€‚

eslint.codeAction.disableRuleComment - åŒ…å«ä»¥ä¸‹å±æ€§çš„å¯¹è±¡ï¼š
  enable - åœ¨å¿«é€Ÿä¿®å¤èœå•ä¸­æ˜¾ç¤ºç¦ç”¨ lint è§„åˆ™ã€‚é»˜è®¤å€¼ä¸ºtrueã€‚
  location - é€‰æ‹©åœ¨separateLineæˆ–sameLineæ·»åŠ eslint-disableæ³¨é‡Šã€‚separateLineæ˜¯é»˜è®¤è®¾ç½®ã€‚ç¤ºä¾‹ï¼š

eslint.codeAction.showDocumentation - å…·æœ‰ä»¥ä¸‹å±æ€§çš„å¯¹è±¡ï¼š
  enable - show open lint rule documentation web page in the quick fix menu. true by default.
  enable - åœ¨å¿«é€Ÿä¿®å¤èœå•ä¸­æ˜¾ç¤ºæ‰“å¼€çš„ lint è§„åˆ™æ–‡æ¡£ç½‘é¡µã€‚é»˜è®¤å€¼ä¸º trueã€‚

eslint.codeActionsOnSave.modeï¼ˆ@å§‹äº2.0.12ç‰ˆæœ¬ï¼‰- æ§åˆ¶åœ¨ä¿å­˜æ—¶è¿è¡Œä»£ç æ“ä½œæ—¶è¦ä¿®å¤å“ªäº›é—®é¢˜ã€‚
  allï¼šé€šè¿‡é‡æ–°éªŒè¯æ–‡ä»¶å†…å®¹æ¥ä¿®å¤æ‰€æœ‰å¯èƒ½çš„é—®é¢˜ã€‚è¿™ä¼šæ‰§è¡Œä¸åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨--fixé€‰é¡¹è¿è¡Œeslintç›¸åŒçš„ä»£ç è·¯å¾„ï¼Œå› æ­¤å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚è¿™æ˜¯é»˜è®¤å€¼ã€‚
  problemsï¼šä»…ä¿®å¤å½“å‰å·²çŸ¥çš„å¯ä¿®å¤é—®é¢˜ï¼Œå‰ææ˜¯å®ƒä»¬çš„æ–‡æœ¬ç¼–è¾‘ä¸é‡å ã€‚æ­¤æ¨¡å¼é€Ÿåº¦å¿«å¾—å¤šï¼Œä½†å¾ˆå¯èƒ½åªä¿®å¤éƒ¨åˆ†é—®é¢˜ã€‚
è¯·æ³¨æ„ï¼Œå¦‚æœå°†eslint.codeActionsOnSave.modeè®¾ç½®ä¸ºproblemsï¼Œåˆ™eslint.codeActionsOnSave.rulesä¼šè¢«å¿½ç•¥ã€‚

eslint.codeActionsOnSave.rulesï¼ˆè‡ª2.2.0ç‰ˆæœ¬èµ·å¯ç”¨ï¼‰- æ§åˆ¶åœ¨ä¿å­˜æ—¶æ‰§è¡Œä»£ç æ“ä½œæœŸé—´éœ€è¦è€ƒè™‘çš„è§„åˆ™ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™ä¼šè€ƒè™‘é€šè¿‡å¸¸è§„ESLinté…ç½®æœºåˆ¶æŒ‡å®šçš„æ‰€æœ‰è§„åˆ™ã€‚ç©ºæ•°ç»„è¡¨ç¤ºä¸è€ƒè™‘ä»»ä½•è§„åˆ™ã€‚å¦‚æœæ•°ç»„åŒ…å«å¤šä¸ªæ¡ç›®ï¼Œåˆ™é¡ºåºå¾ˆé‡è¦ï¼Œç¬¬ä¸€ä¸ªåŒ¹é…é¡¹å°†å†³å®šè§„åˆ™çš„å¼€å¯/å…³é—­çŠ¶æ€ã€‚æ­¤è®¾ç½®ä»…åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ç”Ÿæ•ˆï¼š
  eslint.codeActionsOnSave.mode çš„å€¼ä¸ problems ä¸åŒ
  æ‰€ä½¿ç”¨çš„ESLintç‰ˆæœ¬è¦ä¹ˆæ˜¯8æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œè¦ä¹ˆæ˜¯7.xç‰ˆæœ¬ä¸”è®¾ç½®eslint.useESLintClassè¢«è®¾ä¸ºtrueï¼ˆç‰ˆæœ¬ >= 8 ||ï¼ˆç‰ˆæœ¬ == 7.x ä¸” eslint.useESLintClassï¼‰ï¼‰ã€‚
åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œåªè€ƒè™‘ä¸åˆ†å·ç›¸å…³çš„è§„åˆ™ï¼š
"eslint.codeActionsOnSave.rules": [
  "*semi*"
]
æ­¤ç¤ºä¾‹ä»ä¿å­˜æ—¶çš„ä»£ç æ“ä½œä¸­ç§»é™¤äº†æ‰€æœ‰TypeScript ESLintç‰¹å®šè§„åˆ™ï¼Œä½†ä¿ç•™äº†æ‰€æœ‰å…¶ä»–è§„åˆ™ï¼š
"eslint.codeActionsOnSave.rules": [
  "!@typescript-eslint/*",
  "*"
]
æ­¤ç¤ºä¾‹ä¿ç•™äº†TypeScript ESLintä¸­çš„ç¼©è¿›å’Œåˆ†å·è§„åˆ™ï¼Œç¦ç”¨äº†æ‰€æœ‰å…¶ä»–TypeScript ESLintè§„åˆ™ï¼Œå¹¶ä¿ç•™äº†å…¶ä½™è§„åˆ™ï¼š
"eslint.codeActionsOnSave.rules": [
    "@typescript-eslint/semi",
    "@typescript-eslint/indent",
    "!@typescript-eslint/*",
    "*"
]

eslint.rules.customizationsï¼ˆ@since 2.1.20ï¼‰- å¼ºåˆ¶è§„åˆ™åœ¨VS Codeä¸­æŠ¥å‘Šä¸é¡¹ç›®çœŸå®ESLinté…ç½®ä¸åŒçš„ä¸¥é‡æ€§ã€‚åŒ…å«ä»¥ä¸‹å±æ€§ï¼š
  "rule": é€‰æ‹©åç§°åŒ¹é…çš„è§„åˆ™ï¼Œå°†æ˜Ÿå·è§†ä¸ºé€šé…ç¬¦ï¼š{ "rule": "no-*", "severity": "warn" }
    åœ¨åç§°å‰åŠ ä¸Š"!"ä»¥å®šä½æ‰€æœ‰ä¸è¯¥åç§°ä¸åŒ¹é…çš„è§„åˆ™ï¼š{ "rule": "!no-*", "severity": "info" }
  "severity"ï¼šä¸ºåŒ¹é…çš„è§„åˆ™è®¾ç½®æ–°çš„ä¸¥é‡æ€§ï¼Œ"downgrade"å…¶ä¸¥é‡æ€§ï¼Œ"upgrade"å…¶ä¸¥é‡æ€§ï¼Œæˆ–"default"ä¸ºå…¶åŸå§‹ä¸¥é‡æ€§
  "fixable": Select only autofixable rules: { "rule": "no-*", "fixable": true, "severity": "info" }
  "fixable"ï¼šä»…é€‰æ‹©å¯è‡ªåŠ¨ä¿®å¤çš„è§„åˆ™ï¼š{ "rule": "no-*", "fixable": true, "severity": "info" }
åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰è§„åˆ™éƒ½è¢«è¦†ç›–ä¸ºè­¦å‘Šï¼š
"eslint.rules.customizations": [
  { "rule": "*", "severity": "warn" }
]
åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œno-è§„åˆ™æ˜¯æä¾›ä¿¡æ¯çš„ï¼Œå…¶ä»–è§„åˆ™è¢«é™çº§ï¼Œå¹¶ä¸”"radix"é‡ç½®ä¸ºé»˜è®¤å€¼ï¼š
"eslint.rules.customizations": [
  { "rule": "no-*", "severity": "info" },
  { "rule": "!no-*", "severity": "downgrade" },
  { "rule": "radix", "severity": "default" }
]
åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰å¯è‡ªåŠ¨ä¿®å¤çš„è§„åˆ™éƒ½è¢«è¦†ç›–ä¸ºä¿¡æ¯çº§åˆ«ï¼š
"eslint.rules.customizations": [
  { "rule": "*", "fixable": true, "severity": "info" }
]

eslint.format.enableï¼ˆ@since 2.0.0ï¼‰- å°†ESLintç”¨ä½œç»ESLintéªŒè¯çš„æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ã€‚å¦‚æœå¯ç”¨æ­¤åŠŸèƒ½ï¼Œä¸”å¸Œæœ›å°†å…¶è®¾ä¸ºé»˜è®¤æ ¼å¼åŒ–å·¥å…·ï¼Œè¯·ç¡®ä¿ç¦ç”¨å…¶ä»–æ ¼å¼åŒ–å·¥å…·ã€‚å®ç°æ­¤ç›®çš„çš„ä¸€ä¸ªå¥½æ–¹æ³•æ˜¯ï¼Œä¸ºJavaScriptæ·»åŠ ä»¥ä¸‹è®¾ç½®ï¼š"[javascript]": { "editor.defaultFormatter": "dbaeumer.vscode-eslint" }ã€‚å¯¹äºTypeScriptï¼Œåˆ™éœ€è¦æ·»åŠ ï¼š"[typescript]": { "editor.defaultFormatter": "dbaeumer.vscode-eslint" }ã€‚

eslint.onIgnoredFilesï¼ˆ@since 2.0.10ï¼‰ï¼šç”¨äºæ§åˆ¶åœ¨å°è¯•æ£€æŸ¥è¢«å¿½ç•¥çš„æ–‡ä»¶æ—¶æ˜¯å¦åº”ç”Ÿæˆè­¦å‘Šã€‚é»˜è®¤å€¼ä¸ºoffã€‚å¯ä»¥è®¾ç½®ä¸ºwarnã€‚

editor.codeActionsOnSaveï¼ˆ@since 2.0.0ï¼‰ï¼šæ­¤è®¾ç½®ç°åœ¨æ”¯æŒæ¡ç›®source.fixAll.eslintã€‚å¦‚æœè®¾ç½®ä¸ºtrueï¼Œæ‰€æœ‰æ’ä»¶ä¸­æ‰€æœ‰å¯è‡ªåŠ¨ä¿®å¤çš„ESLinté”™è¯¯éƒ½å°†åœ¨ä¿å­˜æ—¶è¢«ä¿®å¤ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨VS Codeçš„è¯­è¨€èŒƒå›´è®¾ç½®æœ‰é€‰æ‹©åœ°å¯ç”¨å’Œç¦ç”¨ç‰¹å®šè¯­è¨€ã€‚è¦ä¸ºHTMLæ–‡ä»¶ç¦ç”¨codeActionsOnSave</b2ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è®¾ç½®ï¼š
"[html]": {
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": false
  }
}
æ—§çš„eslint.autoFixOnSaveè®¾ç½®ç°å·²å¼ƒç”¨ï¼Œå¯ä»¥å®‰å…¨åœ°ç§»é™¤ã€‚å¦è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨å°†ESLintç”¨ä½œé»˜è®¤æ ¼å¼åŒ–ç¨‹åºï¼Œé‚£ä¹ˆåœ¨å¼€å¯editor.codeActionsOnSaveæ—¶ï¼Œåº”è¯¥å…³é—­editor.formatOnSaveã€‚å¦åˆ™ï¼Œæ‚¨çš„æ–‡ä»¶ä¼šè¢«ä¿®å¤ä¸¤æ¬¡ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„ã€‚

eslint.problems.shortenToSingleLineï¼šï¼ˆ@since 2.3.0ï¼‰- å°†ä¸‹åˆ’çº¿æ ‡æ³¨é—®é¢˜çš„æ–‡æœ¬èŒƒå›´ç¼©çŸ­è‡³å…¶é¦–ä¸ªç›¸å…³è¡Œã€‚

eslint.experimental.useFlatConfigï¼šï¼ˆ@since 2.3.0ï¼‰- å¯ç”¨å¯¹å®éªŒæ€§Flat Configï¼ˆå³eslint.config.jsï¼Œå—ESLint 8.21æˆ–æ›´é«˜ç‰ˆæœ¬æ”¯æŒï¼‰çš„æ”¯æŒ

eslint.timeBudget.onValidationï¼ˆè‡ª2.3.5ç‰ˆæœ¬èµ·ï¼‰- æ§åˆ¶åœ¨æ˜¾ç¤ºè­¦å‘Šæˆ–é”™è¯¯ä¹‹å‰å¯ç”¨äºéªŒè¯çš„æ—¶é—´é¢„ç®—ã€‚

eslint.timeBudget.onFixesï¼ˆ@since 2.3.5ï¼‰- æ§åˆ¶åœ¨æ˜¾ç¤ºè­¦å‘Šæˆ–é”™è¯¯ä¹‹å‰å¯ç”¨äºè®¡ç®—ä¿®å¤çš„æ—¶é—´é¢„ç®—ã€‚


```

:::

å®Œæˆé…ç½®åï¼Œç¼–ç å¼€å‘æ—¶å³å¯é«˜äº®æç¤ºé”™è¯¯ï¼š

![Eslintå®æ—¶æç¤ºæˆªå›¾](/images/others/devtools/eslint/vscode-plugin-eslint-alert.png)

---

**å¼€å‘æ—¶**ï¼šVS Code ESLint æ’ä»¶ä½¿ç”¨é…ç½®æä¾›å®æ—¶åé¦ˆ

**æ„å»º/æ£€æŸ¥æ—¶**ï¼šé¡¹ç›®ä¸­çš„ ESLint ä¾èµ–ä½¿ç”¨é…ç½®è¿›è¡Œä»£ç æ£€æŸ¥

**ä¸¤è€…åŒæ­¥**ï¼šä¿æŒç›¸åŒçš„è§„åˆ™é›†ï¼Œç¡®ä¿ç¼–è¾‘å™¨æç¤ºå’Œå‘½ä»¤è¡Œç»“æœä¸€è‡´

## [Eslint é…ç½®é¡¹](https://eslint.org/docs/latest/use/configure/)

é™¤äº†ä¸Šé¢ç”¨åˆ°çš„ï¼Œä¸€ä¸ªå®Œæ•´çš„ESLint 9é…ç½®è¿˜å¯ä»¥åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ¨¡å—ï¼š

| æ¨¡å—                                | ä½œç”¨                                                                                                  | ç¤ºä¾‹                                                                                      |
| :---------------------------------- | :---------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------- |
| **`rules`**                         | **æ ¸å¿ƒ**ï¼šå®šä¹‰å…·ä½“çš„ä»£ç æ£€æŸ¥è§„åˆ™åŠå…¶é”™è¯¯çº§åˆ«ã€‚                                                        | `{ â€œno-consoleâ€: â€œwarnâ€, â€œsemiâ€: [â€œerrorâ€, â€œalwaysâ€] }`                                   |
| **`ignores`**                       | **å¿½ç•¥æ–‡ä»¶**ï¼šåœ¨é…ç½®å†…éƒ¨å£°æ˜è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œæ›¿ä»£å¤–éƒ¨çš„ `.eslintignore` æ–‡ä»¶ã€‚**éœ€æ”¾åœ¨æ•°ç»„é¦–ä½**ã€‚ | `{ ignores: [â€œdist/â€, â€œ**/*.test.jsâ€] }`                                                  |
| **`languageOptions.parser`**        | **è‡ªå®šä¹‰è§£æå™¨**ï¼šæŒ‡å®šè§£æä»£ç çš„è§£æå™¨ï¼ˆå¦‚ `@babel/eslint-parser`ã€`@typescript-eslint/parser`ï¼‰ã€‚    | `{ languageOptions: { parser: tsParser } }`                                               |
| **`languageOptions.parserOptions`** | **è§£æå™¨é€‰é¡¹**ï¼šä¼ é€’ç»™è§£æå™¨çš„é¢å¤–é€‰é¡¹ï¼ˆå¦‚ECMAScriptç‰ˆæœ¬ã€JSXæ”¯æŒï¼‰ã€‚                                 | `{ languageOptions: { parserOptions: { ecmaVersion: â€œlatestâ€, sourceType: â€œmoduleâ€ } } }` |
| **`languageOptions.globals`**       | **å…¨å±€å˜é‡**ï¼ˆå·²è§ä¸Šæ–‡ï¼‰ï¼šå£°æ˜é¢å¤–çš„å…¨å±€å˜é‡ï¼Œé¿å…è¢« `no-undef` è§„åˆ™æŠ¥é”™ã€‚                            | `{ languageOptions: { globals: { jQuery: â€œreadonlyâ€ } } }`                                |
| **`settings`**                      | **å…±äº«è®¾ç½®**ï¼šæä¾›ç»™æ’ä»¶ä½¿ç”¨çš„é…ç½®ä¿¡æ¯ï¼Œæ’ä»¶ä¹‹é—´å¯ä»¥å…±äº«ã€‚                                            | `{ settings: { react: { version: â€œ18.2â€ } } }`                                            |

## æ€»ç»“ä¸å»¶ä¼¸

ESLint 9ä¸ä»…æ˜¯ä¸€ä¸ªâ€œæŒ‘é”™â€å·¥å…·ï¼Œæ›´æ˜¯é€šè¿‡ä¸€å¥—å¯å›¢é˜Ÿå…±äº«ã€é«˜åº¦å®šåˆ¶çš„è§„åˆ™ï¼Œå°†ä»£ç è´¨é‡ä¿éšœã€é£æ ¼ç»Ÿä¸€å’Œæœ€ä½³å®è·µæ·±åº¦èå…¥åˆ°ä»ç¼–ç ã€æäº¤åˆ°é›†æˆçš„æ•´ä¸ªå¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­ã€‚

ä» Vue ç»„ä»¶çš„ç‰¹æ€§æ£€æŸ¥ï¼Œåˆ° VS Code ä¸­çš„å®æ—¶åé¦ˆï¼Œå†åˆ° CI/CD æµæ°´çº¿ä¸­çš„è´¨é‡é—¨ç¦ï¼ŒESLint æ­£ä»å¤šç»´åº¦å®ˆæŠ¤ç€é¡¹ç›®çš„å¥åº·åº¦ã€‚

æŒæ¡å¹¶åº”ç”¨å¥½ ESLint 9ï¼Œæ„å‘³ç€ä½ çš„ä»£ç åº“å°†æ‹¥æœ‰æ›´å¼ºçš„å¯ç»´æŠ¤æ€§ã€æ›´å°‘çš„è¿è¡Œæ—¶é”™è¯¯å’Œæ›´é¡ºç•…çš„å›¢é˜Ÿåä½œä½“éªŒã€‚

åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸åŒæ—¶ä½¿ç”¨ ESLint å’Œ [Prettier](/others/devtools/prettier.md)ã€‚å®ƒä»¬èŒè´£æ˜ç¡®ï¼Œç›¸è¾…ç›¸æˆï¼š

- ESLintï¼šè´Ÿè´£ ä»£ç è´¨é‡æ£€æŸ¥ï¼ˆå¦‚æœªä½¿ç”¨çš„å˜é‡ã€å¯èƒ½çš„é”™è¯¯ï¼‰å’Œ ä»£ç é£æ ¼ä¸­ä¸é€»è¾‘ç›¸å…³çš„éƒ¨åˆ†ï¼ˆå¦‚å¼•å·ç±»å‹ã€åˆ†å·ã€ä»£ç æ ¼å¼ï¼‰ã€‚

- Prettierï¼šæ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œä¸“æ³¨äºä»£ç å¤–è§‚ï¼ˆå¦‚è¡Œé•¿ã€ç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œï¼‰ï¼Œå¹¶å¼ºåˆ¶å®æ–½ä¸€å¥—å®Œå…¨ä¸€è‡´çš„é£æ ¼
