# [Prettier](https://prettier.io) <Badge type="tip" text="^3.8.1" />

> Prettier is an opinionated code formatter. It enforces a consistent style by parsing your code and re-printing it with its own rules that take the maximum line length into account, wrapping code when necessary.
>
> Prettier æ˜¯ä¸€æ¬¾å…·æœ‰å¼ºåˆ¶æ€§é£æ ¼å€¾å‘çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚å®ƒä¼šå¯¹ä»£ç è¿›è¡Œè§£æï¼Œå†ä¾æ®è‡ªèº«è§„åˆ™é‡æ–°æ’ç‰ˆè¾“å‡º â€”â€” è¿™äº›è§„åˆ™ä¼šé¢„å…ˆè€ƒè™‘æœ€å¤§è¡Œé•¿åº¦é™åˆ¶ï¼Œå¹¶åœ¨éœ€è¦æ—¶è‡ªåŠ¨å¯¹ä»£ç è¿›è¡Œæ¢è¡Œå¤„ç†ï¼Œä»¥æ­¤ä¿è¯ä»£ç é£æ ¼çš„ä¸€è‡´æ€§ã€‚

## Prettier æ˜¯ä»€ä¹ˆ

Prettier æ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„"ä»£ç ç¾å®¹å¸ˆ"ï¼Œä¸“æ³¨äºä»£ç çš„**æ ¼å¼åŒ–**è€Œéé€»è¾‘æ£€æŸ¥ã€‚å®ƒåœ¨å¼€å‘æµç¨‹ä¸­ç¡®ä¿æ— è®ºè°ç¼–å†™ä»£ç ï¼Œè¾“å‡ºç»“æœåœ¨é£æ ¼ä¸Šéƒ½å®Œå…¨ä¸€è‡´ï¼š

```mermaid
graph LR
    A[åŸå§‹ä»£ç ] --> B[Prettieræ ¼å¼åŒ–]
    B --> C[ç»Ÿä¸€é£æ ¼çš„ä»£ç ]

    subgraph "å¤šç§è¾“å…¥é£æ ¼"
        D[ä¸åŒå¼€å‘è€…]
        E[ä¸åŒç¼–ç ä¹ æƒ¯]
        F[ä¸åŒç¼–è¾‘å™¨é…ç½®]
    end

    D --> A
    E --> A
    F --> A

    C --> G[å¯è¯»æ€§æå‡]
    C --> H[å›¢é˜Ÿä¸€è‡´æ€§]
    C --> I[å‡å°‘æ ¼å¼äº‰è®®]

    style A fill:#ffebee
    style C fill:#e8f5e8
    style G fill:#e3f2fd
    style H fill:#f3e5f5
    style I fill:#fff3e0
```

### ä¸»è¦ä»·å€¼ä½“ç°

#### ğŸ¨ ä»£ç é£æ ¼ä¸€è‡´æ€§

- **æ¶ˆé™¤é£æ ¼äº‰è®®**ï¼šå›¢é˜Ÿä¸å†äº‰è®ºç¼©è¿›ã€åˆ†å·ã€å¼•å·ç­‰é—®é¢˜
- **å†å²ä»£ç ç»Ÿä¸€**ï¼šä¸€é”®æ ¼å¼åŒ–æ•´ä¸ªä»£ç åº“ï¼Œæ–°æ—§ä»£ç é£æ ¼ä¸€è‡´
- **å¤šé¡¹ç›®ç»Ÿä¸€**ï¼šè·¨é¡¹ç›®å…±äº«é…ç½®ï¼Œä¿æŒç›¸åŒä»£ç é£æ ¼

#### âš¡ å¼€å‘æ•ˆç‡æå‡

- **é›¶å†³ç­–æˆæœ¬**ï¼šæ— éœ€æ€è€ƒä»£ç æ ¼å¼ï¼Œä¸“æ³¨äºä¸šåŠ¡é€»è¾‘
- **è‡ªåŠ¨ä¿®å¤**ï¼šä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒæ•´
- **å‡å°‘ä»£ç å®¡æŸ¥æ—¶é—´**ï¼šä»£ç å®¡æŸ¥èšç„¦é€»è¾‘è€Œéé£æ ¼

#### ğŸ”§ ç»´æŠ¤æ€§å¢å¼º

- **æ¸…æ™°çš„ç‰ˆæœ¬å¯¹æ¯”**ï¼šæ ¼å¼ç»Ÿä¸€åï¼ŒGitå·®å¼‚åªæ˜¾ç¤ºå®é™…å˜æ›´
- **æ–°äººå‹å¥½**ï¼šæ–°æˆå‘˜æ— éœ€å­¦ä¹ é¡¹ç›®ç‰¹å®šæ ¼å¼è§„åˆ™
- **å·¥å…·é“¾æ•´åˆ**ï¼šä¸ç¼–è¾‘å™¨ã€Gité’©å­ã€CI/CDæ— ç¼é›†æˆ

### æ ¸å¿ƒæ ¼å¼åŒ–ç‰¹æ€§

| ç‰¹æ€§            | åŠŸèƒ½æè¿°                       | å®é™…åº”ç”¨åœºæ™¯                               |
| :-------------- | :----------------------------- | :----------------------------------------- |
| **ğŸ“ è¡Œå®½æ§åˆ¶** | è‡ªåŠ¨æ¢è¡Œï¼Œä¿æŒä»£ç åœ¨æŒ‡å®šå®½åº¦å†… | ä¿æŒä»£ç åœ¨80/100/120å­—ç¬¦å®½åº¦å†…ï¼Œæé«˜å¯è¯»æ€§ |
| **ğŸ’… ä»£ç ç¾åŒ–** | ç»Ÿä¸€çš„ç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œæ ¼å¼     | å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°å‚æ•°ç­‰çš„ä¸€è‡´æ ¼å¼åŒ–         |
| **ğŸ”  å¼•å·è½¬æ¢** | ç»Ÿä¸€ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·         | æ•´ä¸ªé¡¹ç›®å¼•å·é£æ ¼ä¸€è‡´                       |
| **ğŸ”¢ åˆ†å·å¤„ç†** | ç»Ÿä¸€æ·»åŠ æˆ–çœç•¥åˆ†å·             | æ ¹æ®é…ç½®å†³å®šè¯­å¥æœ«å°¾æ˜¯å¦å¸¦åˆ†å·             |
| **ğŸ“ æ‹¬å·ç©ºæ ¼** | æ§åˆ¶æ‹¬å·å†…ä¾§çš„ç©ºæ ¼             | å‡½æ•°å‚æ•°ã€å¯¹è±¡å­—é¢é‡çš„ä¸€è‡´ç©ºæ ¼å¤„ç†         |
| **â†”ï¸ å°¾éšé€—å·** | æ§åˆ¶å¯¹è±¡ã€æ•°ç»„ç­‰çš„å°¾éšé€—å·     | å¤šè¡Œç»“æ„ä¸­ä¿æŒä¸€è‡´çš„é€—å·ä½¿ç”¨               |

### æ”¯æŒçš„è¯­è¨€ä¸æ–‡ä»¶

Prettier æ”¯æŒå¹¿æ³›çš„ç°ä»£å¼€å‘è¯­è¨€å’Œæ–‡ä»¶æ ¼å¼ï¼š

#### ğŸ“¦ ä¸»è¦æ”¯æŒçš„è¯­è¨€

- **JavaScript/TypeScript**ï¼šES5åˆ°ESNextï¼ŒåŒ…æ‹¬JSX/TSX
- **CSS/SCSS/Less**ï¼šæ ·å¼è¡¨æ ¼å¼åŒ–
- **HTML/XML/Vue**ï¼šæ ‡è®°è¯­è¨€æ ¼å¼åŒ–ï¼ˆVueå•æ–‡ä»¶ç»„ä»¶ï¼‰
- **JSON/GraphQL**ï¼šæ•°æ®æŸ¥è¯¢å’Œé…ç½®æ–‡ä»¶
- **Markdown/MDX**ï¼šæ–‡æ¡£æ ¼å¼åŒ–
- **YAML/TOML**ï¼šé…ç½®æ–‡ä»¶æ ¼å¼åŒ–

#### ğŸ”Œ ç¼–è¾‘å™¨é›†æˆ

- **VS Code**ï¼šæ·±åº¦é›†æˆï¼Œä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
- **WebStorm/IntelliJ**ï¼šå†…ç½®æ”¯æŒæˆ–é€šè¿‡æ’ä»¶
- **Sublime Text**ï¼šé€šè¿‡æ’ä»¶æ”¯æŒ
- **Vim/Neovim**ï¼šé€šè¿‡æ’ä»¶æ”¯æŒ
- **Atom**ï¼šé€šè¿‡æ’ä»¶æ”¯æŒ

#### ğŸ”— æ„å»ºå·¥å…·é›†æˆ

- **ä½œä¸ºè„šæœ¬**ï¼šé€šè¿‡npmè„šæœ¬è¿è¡Œ
- **Gité’©å­**ï¼šé€šè¿‡lint-stagedåœ¨æäº¤å‰æ ¼å¼åŒ–
- **CI/CD**ï¼šåœ¨æµæ°´çº¿ä¸­æ£€æŸ¥æ ¼å¼
- **ä¸ESLinté…åˆ**ï¼šé€šè¿‡eslint-config-prettieré¿å…è§„åˆ™å†²çª

## Prettier æ€ä¹ˆç”¨

åœ¨æœ¬èŠ‚æˆ‘ä»¬å±•å¼€è¯´æ˜ **åœ¨ Vue ä¸­ä½¿ç”¨ Prettier** ä»¥åŠ **åœ¨ Vscode ä¸­é›†æˆ Prettier æ’ä»¶**ã€‚

Prettier åœ¨è¿™æ–¹é¢çš„å·¥ä½œæœºåˆ¶ä¸ ESLint éå¸¸ç›¸ä¼¼ï¼ŒåŒæ ·éµå¾ªâ€œä¸€æ¬¡é…ç½®ï¼Œå¤šå¤„ç”Ÿæ•ˆâ€çš„åŸåˆ™ã€‚

å½“æˆ‘ä»¬ä½¿ç”¨ **Prettier**æ—¶ ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ `.prettierrc`åï¼ŒäºŒè€…éƒ½ä¼šä½¿ç”¨åŒä¸€å¥—é…ç½®è§„åˆ™ã€‚

:::tip å¯¹äºVS Codeçš„ Prettier æ’ä»¶ï¼š

åœ¨ VS Code ä¸­ä½¿ç”¨ Prettier æ’ä»¶æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å‘ä¸ŠæŸ¥æ‰¾å·¥ä½œåŒºå†…ç¦»æ–‡ä»¶æœ€è¿‘çš„ Prettier é…ç½®æ–‡ä»¶ã€‚

ç†æƒ³æƒ…å†µä¸‹ï¼Œæ’ä»¶ä¼šä½¿ç”¨ä¸å‘½ä»¤è¡Œå®Œå…¨ç›¸åŒçš„é¡¹ç›®é…ç½®ã€‚
:::

::: tip å¯¹äºé¡¹ç›®ä¸­çš„ Prettier ä¾èµ–ï¼š

å½“ä½ åœ¨é¡¹ç›®ä¸­è¿è¡ŒPrettierè„šæœ¬ï¼ˆ`npm run prettier`ï¼‰æ—¶ï¼Œè‡ªåŠ¨æŸ¥æ‰¾é¡¹ç›®æ ¹ç›®å½•çš„ Prettier é…ç½®æ–‡ä»¶ï¼ˆå¦‚ prettier.config.jsï¼‰ï¼Œä½¿ç”¨é¡¹ç›®é…ç½®æ ¼å¼åŒ–æ–‡ä»¶ã€‚
:::
è™½ç„¶åŸç†ç›¸ä¼¼ï¼Œä½†åœ¨ VS Code é›†æˆä¸Šæœ‰ä¸€ä¸ªé‡è¦åŒºåˆ«ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨ï¼š

1. é…ç½®æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ä¸æ½œåœ¨å†²çª
   - Prettier VS Code æ’ä»¶åœ¨æ¿€æ´»æ—¶ï¼Œä¼šæŒ‰ç…§ä¸€å¥—ä¼˜å…ˆçº§é¡ºåºæ¥æŸ¥æ‰¾å¹¶ç¡®å®šä½¿ç”¨å“ªä»½é…ç½®ã€‚
   - å¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰Prettieré…ç½®æ–‡ä»¶ï¼Œç¼–è¾‘å™¨å°†å›é€€åˆ°ä½¿ç”¨å·¥ä½œåŒºæˆ–ç”¨æˆ·è®¾ç½®ï¼Œè¿™å¯èƒ½å¯¼è‡´å›¢é˜Ÿæˆå‘˜é—´æˆ–ä¸CIç¯å¢ƒäº§ç”Ÿä¸ä¸€è‡´çš„æ ¼å¼åŒ–ç»“æœã€‚
2. ç¡®ä¿ä¸€è‡´æ€§çš„æœ€ä½³å®è·µ
   - é¡¹ç›®å¿…é¡»åŒ…å«é…ç½®æ–‡ä»¶ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º prettier.config.js æˆ– .prettierrcï¼Œè¿™æ˜¯â€œå•ä¸€å¯ä¿¡æºâ€ã€‚
   - ç¦ç”¨VS Codeçš„æ— å…³æ ¼å¼åŒ–ï¼šåœ¨é¡¹ç›®çš„ .vscode/settings.json ä¸­ï¼Œæ˜ç¡®è®¾ç½® "editor.defaultFormatter": "esbenp.prettier-vscode"ï¼Œå¹¶å…³é—­å…¶ä»–æ ¼å¼åŒ–å™¨ï¼ˆå¦‚ VS Code è‡ªå¸¦çš„ HTMLã€CSS æ ¼å¼åŒ–ï¼‰ï¼Œé˜²æ­¢å®ƒä»¬å¹²æ‰°ã€‚
   - è¦æ±‚æ’ä»¶è¯»å–é¡¹ç›®é…ç½®ï¼šå¯ä»¥è®¾ç½® "prettier.requireConfig": trueï¼Œè¿™æ ·å¦‚æœæ²¡æœ‰æ‰¾åˆ°é¡¹ç›®é…ç½®ï¼Œæ’ä»¶ä¼šæç¤ºè€Œä¸ä¼šä½¿ç”¨å…¶ä»–é»˜è®¤è§„åˆ™ã€‚

## åœ¨ Vue é¡¹ç›®ä¸­ä½¿ç”¨

### å®‰è£…Prettierä¾èµ–

1. æœ¬åœ°å®‰è£…prettierï¼š

```bash
npm install --save-dev --save-exact prettier
```

2. åˆ›å»ºä¸€ä¸ªç©ºçš„é…ç½®æ–‡ä»¶è®©ç¼–è¾‘å™¨ä»¥åŠå…¶ä»–å·¥å…·çŸ¥é“ä½ æ­£åœ¨ä½¿ç”¨ Prettier

```bash
node --eval "fs.writeFileSync('.prettierrc','{}\n')"
```

3. åˆ›å»º `.prettierignore`æ–‡ä»¶å‘Šè¯‰Prettier å®¢æˆ·ç«¯çŸ¥é“å“ªäº›æ–‡ä»¶ä¸éœ€è¦æ ¼å¼åŒ–ï¼Œä¾‹å¦‚ï¼š

```bash
node --eval "fs.writeFileSync('.prettierignore','# Ignore artifacts:\nbuild\ncoverage\n')"
```

Prettier æœ‰å†…ç½®çš„é»˜è®¤é…ç½®ï¼Œå½“æ²¡æœ‰æ‰¾åˆ°ç›¸å…³é…ç½®æ–‡ä»¶æ—¶ï¼Œä¼šä½¿ç”¨è¿™äº›é»˜è®¤è§„åˆ™ï¼š
:::code-group

```json [.prettierrc]
{
  "printWidth": 80, // æ¯è¡Œæœ€å¤§80å­—ç¬¦
  "tabWidth": 2, // ç¼©è¿›2ä¸ªç©ºæ ¼
  "useTabs": false, // ä½¿ç”¨ç©ºæ ¼ï¼Œè€Œä¸æ˜¯Tab
  "semi": true, // è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·
  "singleQuote": false, // ä½¿ç”¨åŒå¼•å·ï¼ˆé»˜è®¤ï¼‰
  "quoteProps": "as-needed", // ä»…åœ¨å¿…éœ€æ—¶ç»™å¯¹è±¡å±æ€§åŠ å¼•å·
  "jsxSingleQuote": false, // JSXä¸­ä½¿ç”¨åŒå¼•å·
  "trailingComma": "none", // æ²¡æœ‰å°¾éšé€—å·
  "bracketSpacing": true, // å¯¹è±¡æ‹¬å·é—´æœ‰ç©ºæ ¼ï¼š{ foo: bar }
  "bracketSameLine": false, // JSXæ ‡ç­¾çš„>å•ç‹¬ä¸€è¡Œ
  "arrowParens": "always", // ç®­å¤´å‡½æ•°å‚æ•°å§‹ç»ˆæœ‰æ‹¬å·ï¼š(x) => x
  "endOfLine": "lf", // ä½¿ç”¨LFæ¢è¡Œç¬¦
  "embeddedLanguageFormatting": "auto" // è‡ªåŠ¨æ ¼å¼åŒ–åµŒå…¥çš„ä»£ç 
}
```

```txt [.prettierignore]
# é»˜è®¤å¿½ç•¥
node_modules/
.git/
.svn/
.hg/
package-lock.json
yarn.lock
pnpm-lock.yaml
dist/
build/
coverage/
```

:::

### è¿è¡Œ prettier æŒ‡ä»¤

åœ¨ `package.json`ä¸­æ·»åŠ  prettier æŒ‡ä»¤

```json
{
  "scripts": {
    "format": "prettier --write .",
    "format:check": "prettier --check ."
  },
  "devDependencies": {
    "prettier": "3.8.1"
  }
}
```

ç°æœ‰é£æ ¼æœªç»Ÿä¸€çš„ä»£ç ç‰‡æ®µï¼Œæ‰§è¡ŒEslint å‘½ä»¤å¯¹ä»£ç æ£€æŸ¥ `npm run format:check`ï¼š

![æ ¼å¼åŒ–ä»£ç å‰æˆªå›¾](/images/others/devtools/prettier/prettier-format-check.png)

æ‰§è¡ŒEslint å‘½ä»¤å¯¹ä»£ç æ ¼å¼åŒ– `npm run format`ï¼š

![æ ¼å¼åŒ–ä»£ç åæˆªå›¾](/images/others/devtools/prettier/prettier-format.png)

## åœ¨ VS Code ä¸­ä½¿ç”¨

åœ¨ VS Code ä¸­é›†æˆ Prettier æ’ä»¶åï¼Œå¯é…ç½®ä¿å­˜æ–‡ä»¶åä½¿ç”¨ Prettier è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œ Prettier å‘½ä»¤ã€‚

### å®‰è£… Prettier æ’ä»¶

åœ¨ VS Code æ‰©å±•å•†åº—æœç´¢ "Prettier"ï¼Œå®‰è£… Prettier å®˜æ–¹æ’ä»¶ï¼š

![prettieræ’ä»¶](/images/others/devtools/prettier/vscode-plugin-prettier.png)

åœ¨æ’ä»¶å¸‚åœºä¸­çš„ prettier ä¸»é¡µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š

> **Default Formatter**
>
> To ensure that this extension is used over other extensions you may have installed, be sure to set it as the default formatter in your VS Code settings. This setting can be set for all languages or by a specific language.
>
> ä¸ºç¡®ä¿ä¼˜å…ˆä½¿ç”¨æ­¤æ‰©å±•è€Œéå…¶ä»–å·²å®‰è£…çš„æ‰©å±•ï¼Œè¯·åœ¨VS Codeè®¾ç½®ä¸­å°†å…¶è®¾ä¸ºé»˜è®¤æ ¼å¼åŒ–å·¥å…·ã€‚è¯¥è®¾ç½®å¯é’ˆå¯¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€å…¨å±€ç”Ÿæ•ˆï¼Œäº¦å¯ä¸ºç‰¹å®šè¯­è¨€å•ç‹¬é…ç½®ã€‚
>
> ```json
> {
>   "editor.defaultFormatter": "esbenp.prettier-vscode",
>   "[javascript]": {
>     "editor.defaultFormatter": "esbenp.prettier-vscode"
>   }
> }
> ```

> **Format On Save**
>
> Respects editor.formatOnSave setting.
>
> You can turn on format-on-save on a per-language basis by scoping the setting:
>
> ä½ å¯ä»¥é€šè¿‡é™å®šè®¾ç½®çš„ä½œç”¨åŸŸï¼Œé’ˆå¯¹ç‰¹å®šç¼–ç¨‹è¯­è¨€å¼€å¯ä¿å­˜æ—¶æ ¼å¼åŒ–åŠŸèƒ½ã€‚
>
> ```json
> {
>   // å…¨å±€å…³é—­ç¼–è¾‘å™¨ä¿å­˜æ—¶æ ¼å¼åŒ–ä»£ç 
>   "editor.formatOnSave": false,
>   // å¯¹äº javascript å¼€å¯ä¿å­˜æ—¶æ ¼å¼åŒ–ä»£ç 
>   "[javascript]": {
>     "editor.formatOnSave": true
>   }
> }
> ```

### é…ç½® Prettier æ’ä»¶

è€ƒè™‘åˆ°ï¼š

1. **é¿å…ä¸å¿…è¦çš„æ ¼å¼åŒ–**ï¼š

   æœ‰äº›æ–‡ä»¶ç±»å‹ä½ å¯èƒ½ä¸å¸Œæœ›è‡ªåŠ¨æ ¼å¼åŒ–ï¼š
   - JSONã€YAMLï¼šå¯èƒ½åŒ…å«æ•æ„Ÿçš„ç©ºæ ¼/æ ¼å¼
   - Markdownï¼šæœ‰æ—¶éœ€è¦ä¿ç•™ç‰¹å®šçš„æ¢è¡Œ
   - é…ç½®æ–‡ä»¶ï¼šæŸäº›é…ç½®æ–‡ä»¶å¯¹æ ¼å¼æ•æ„Ÿ
   - äºŒè¿›åˆ¶æ–‡ä»¶ï¼šä¸åº”è¯¥è¢«æ ¼å¼åŒ–
   - å¼•å…¥ä¸å¿…è¦çš„ diffï¼ˆgit å˜æ›´ï¼‰

2. **æ€§èƒ½è€ƒè™‘**ï¼š

   å¦‚æœå¯¹æ‰€æœ‰æ–‡ä»¶éƒ½å¯ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ï¼š
   - ä¿å­˜å¤§å‹éä»£ç æ–‡ä»¶æ—¶ä¼šæœ‰å»¶è¿Ÿ
   - æ¯æ¬¡ä¿å­˜éƒ½ä¼šè§¦å‘ Prettier æ£€æŸ¥ï¼Œå¯èƒ½å½±å“ç¼–è¾‘å™¨æ€§èƒ½
   - å¯¹äºä¸éœ€è¦æ ¼å¼åŒ–çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸å¿…è¦çš„å¼€é”€

3. **å¤šæ ¼å¼åŒ–å·¥å…·å…±å­˜**ï¼š

   ä½ å¯èƒ½éœ€è¦ä¸åŒçš„æ ¼å¼åŒ–å·¥å…·å¤„ç†ä¸åŒè¯­è¨€ï¼Œå¦‚æœå…¨å±€å¯ç”¨ï¼Œå¯èƒ½é€ æˆå†²çªæˆ–ä¸ä¸€è‡´ã€‚
   - JavaScript/TypeScriptï¼šç”¨ Prettier
   - Pythonï¼šç”¨ Black æˆ– autopep8
   - Goï¼šç”¨ gofmt
   - Javaï¼šç”¨ Eclipse Formatter

æ¨èé…ç½®æ˜¯é’ˆå¯¹ç‰¹å®šè¯­è¨€å¯ç”¨formatOnSaveï¼Œè€Œä¸æ˜¯å…¨å±€å¯ç”¨ï¼š

```json [.vscode/settings.json]
// æ–‡ä»¶å¤¹çº§åˆ«è®¾ç½®
{
  // å…¨å±€å…³é—­ï¼Œé¿å…ä¸å¿…è¦çš„æ ¼å¼åŒ–
  "editor.formatOnSave": false,

  // åªåœ¨æ”¯æŒçš„è¯­è¨€ä¸­å¯ç”¨
  "[javascript]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[vue]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
  // ...å…¶ä»–éœ€è¦é…ç½®çš„è¯­è¨€
}
```

## Prettier é…ç½®é¡¹

Prettier é…ç½®ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š

1. **åŸºæœ¬æ ¼å¼åŒ–è§„åˆ™**ï¼šæ§åˆ¶ä»£ç å¸ƒå±€çš„åŸºç¡€è§„åˆ™ï¼Œå¦‚ç¼©è¿›ã€è¡Œå®½ç­‰
2. **å¼•å·ä¸ç¬¦å·**ï¼šæ§åˆ¶å­—ç¬¦ä¸²å¼•å·ã€åˆ†å·ã€é€—å·ç­‰ç¬¦å·çš„ä½¿ç”¨
3. **ç‰¹å®šè¯­æ³•å¤„ç†**ï¼šé’ˆå¯¹ç‰¹å®šè¯­æ³•ï¼ˆå¦‚JSXã€Vueã€TypeScriptï¼‰çš„æ ¼å¼åŒ–è§„åˆ™
4. **æ–‡ä»¶ä¸è·¯å¾„**ï¼šæ§åˆ¶æ–‡ä»¶å¤„ç†ã€å¿½ç•¥è§„åˆ™ç­‰
5. **ç¼–è¾‘å™¨ä¸å·¥å…·é›†æˆ**ï¼šä¸ç¼–è¾‘å™¨ã€æ„å»ºå·¥å…·çš„é›†æˆé…ç½®

### åŸºæœ¬æ ¼å¼åŒ–

| é…ç½®é¡¹            | ç±»å‹                            | é»˜è®¤å€¼  | è¯´æ˜                              | æ¨èè®¾ç½®                            |
| ----------------- | ------------------------------- | ------- | --------------------------------- | ----------------------------------- |
| **printWidth**    | `number`                        | `80`    | æ¯è¡Œä»£ç çš„æœ€å¤§å®½åº¦ï¼ˆå­—ç¬¦æ•°ï¼‰      | `100` (ç°ä»£é¡¹ç›®)                    |
| **tabWidth**      | `number`                        | `2`     | æ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°              | `2` (Vue/React) æˆ– `4` (ä¼ä¸šçº§)     |
| **useTabs**       | `boolean`                       | `false` | ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ä»£æ›¿ç©ºæ ¼         | `false` (æ¨èç©ºæ ¼)                  |
| **endOfLine**     | `"lf"` `"crlf"` `"cr"` `"auto"` | `"lf"`  | è¡Œç»“æŸç¬¦                          | `"lf"` (Unix) æˆ– `"crlf"` (Windows) |
| **insertPragma**  | `boolean`                       | `false` | åœ¨æ–‡ä»¶é¡¶éƒ¨æ’å…¥ `@format` ç‰¹æ®Šæ³¨é‡Š | `false`                             |
| **requirePragma** | `boolean`                       | `false` | åªæ ¼å¼åŒ–å¸¦æœ‰ `@format` æ³¨é‡Šçš„æ–‡ä»¶ | `false`                             |

### å¼•å·ä¸ç¬¦å·

| é…ç½®é¡¹              | ç±»å‹                                      | é»˜è®¤å€¼        | è¯´æ˜                                          | æ¨èè®¾ç½®                                |
| ------------------- | ----------------------------------------- | ------------- | --------------------------------------------- | --------------------------------------- |
| **singleQuote**     | `boolean`                                 | `false`       | ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å·                          | `true` (ä¸»æµ)                           |
| **jsxSingleQuote**  | `boolean`                                 | `false`       | åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·                           | `false` (ä¿æŒä¸ HTML ä¸€è‡´)              |
| **quoteProps**      | `"as-needed"` `"consistent"` `"preserve"` | `"as-needed"` | å¯¹è±¡å±æ€§çš„å¼•å·å¤„ç†                            | `"as-needed"`                           |
| **trailingComma**   | `"none"` `"es5"` `"all"`                  | `"es5"`       | åœ¨å¤šè¡Œç»“æ„çš„æœ€åä¸€é¡¹æ·»åŠ å°¾éšé€—å·              | `"es5"` æˆ– `"all"`                      |
| **semi**            | `boolean`                                 | `true`        | åœ¨è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·                            | `true` (å‡å°‘é”™è¯¯) æˆ– `false` (ç°ä»£é£æ ¼) |
| **bracketSpacing**  | `boolean`                                 | `true`        | å¯¹è±¡å­—é¢é‡çš„å¤§æ‹¬å·é—´æ·»åŠ ç©ºæ ¼                  | `true`                                  |
| **arrowParens**     | `"always"` `"avoid"`                      | `"always"`    | ç®­å¤´å‡½æ•°å‚æ•°æ·»åŠ æ‹¬å·                          | `"always"` (æ¸…æ™°) æˆ– `"avoid"` (ç®€æ´)   |
| **bracketSameLine** | `boolean`                                 | `false`       | å°†å¤šè¡Œ HTML/JSX å…ƒç´ çš„ `>` æ”¾åœ¨æœ€åä¸€è¡Œçš„æœ«å°¾ | `false` (React) æˆ– `true` (Vue)         |

### ç‰¹å®šè¯­æ³•å¤„ç†

| é…ç½®é¡¹                        | ç±»å‹                                      | é»˜è®¤å€¼   | è¯´æ˜                                        | æ¨èè®¾ç½® |
| ----------------------------- | ----------------------------------------- | -------- | ------------------------------------------- | -------- |
| **htmlWhitespaceSensitivity** | `"css"` `"strict"` `"ignore"`             | `"css"`  | HTML æ–‡ä»¶çš„ç©ºæ ¼æ•æ„Ÿåº¦                       | `"css"`  |
| **vueIndentScriptAndStyle**   | `boolean`                                 | `false`  | Vue æ–‡ä»¶ä¸­ç¼©è¿› `<script>` å’Œ `<style>` æ ‡ç­¾ | `false`  |
| **jsxBracketSameLine**        | `boolean`                                 | `false`  | å·²å¼ƒç”¨ï¼Œè¯·ä½¿ç”¨ `bracketSameLine`            | -        |
| **jsxClosingTagLocation**     | `"auto"` `"tag-aligned"` `"line-aligned"` | `"auto"` | JSX é—­åˆæ ‡ç­¾çš„ä½ç½®                          | `"auto"` |

### å¸ƒå±€ä¸æ¢è¡Œ

| é…ç½®é¡¹                         | ç±»å‹                              | é»˜è®¤å€¼       | è¯´æ˜                       | æ¨èè®¾ç½®                        |
| ------------------------------ | --------------------------------- | ------------ | -------------------------- | ------------------------------- |
| **proseWrap**                  | `"always"` `"never"` `"preserve"` | `"preserve"` | æ•£æ–‡ï¼ˆMarkdownï¼‰çš„æ¢è¡Œæ–¹å¼ | `"always"`                      |
| **embeddedLanguageFormatting** | `"auto"` `"off"`                  | `"auto"`     | æ˜¯å¦æ ¼å¼åŒ–åµŒå…¥å¼ä»£ç        | `"auto"`                        |
| **singleAttributePerLine**     | `boolean`                         | `false`      | æ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œ           | `false` (Vue æ¨¡æ¿å¯è®¾ä¸º `true`) |

## æœ€ä½³å®è·µ

1. **æ¸è¿›å¼é…ç½®**: å…ˆä»åŸºç¡€é…ç½®å¼€å§‹ï¼Œé€æ­¥æ·»åŠ å¤æ‚è§„åˆ™
2. **ç‰ˆæœ¬æ§åˆ¶**: å°†é…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶
3. **å›¢é˜Ÿè¯„å®¡**: æ–°é…ç½®éœ€å›¢é˜Ÿè¯„å®¡é€šè¿‡
4. **æ–‡æ¡£è¯´æ˜**: åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ³¨é‡Šè¯´æ˜
5. **å®šæœŸæ›´æ–°**: éšç€ Prettier ç‰ˆæœ¬æ›´æ–°è°ƒæ•´é…ç½®

| ç±»åˆ«         | ä¸»è¦é…ç½®é¡¹                                  | å½±å“èŒƒå›´       |
| ------------ | ------------------------------------------- | -------------- |
| **å¸ƒå±€æ§åˆ¶** | `printWidth`, `tabWidth`, `useTabs`         | ä»£ç æ•´ä½“å¸ƒå±€   |
| **ç¬¦å·å¤„ç†** | `singleQuote`, `semi`, `trailingComma`      | è¯­æ³•ç¬¦å·ä½¿ç”¨   |
| **ç©ºæ ¼å¤„ç†** | `bracketSpacing`, `arrowParens`             | ç©ºæ ¼å’Œç©ºè¡Œ     |
| **ç‰¹å®šè¯­æ³•** | `vueIndentScriptAndStyle`, `jsxSingleQuote` | æ¡†æ¶ç‰¹å®šè§„åˆ™   |
| **æ–‡ä»¶å¤„ç†** | `endOfLine`, `requirePragma`                | æ–‡ä»¶çº§æ§åˆ¶     |
| **è¦†ç›–è§„åˆ™** | `overrides`                                 | æ–‡ä»¶ç±»å‹å·®å¼‚åŒ– |

:::code-group

```json [é…ç½®é¡¹è¯´æ˜]
{
  // Vue ç‰¹æ€§ä¼˜åŒ–é…ç½®
  "vueIndentScriptAndStyle": true, // Vue æ–‡ä»¶ä¸­ç¼©è¿› <script> å’Œ <style>
  "bracketSameLine": true, // Vue æ¨¡æ¿ä¸­ > æ”¾åœ¨è¡Œå°¾ï¼ˆæ›´ç´§å‡‘ï¼‰
  "singleAttributePerLine": true, // Vue æ¨¡æ¿ä¸­æ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œ
  "htmlWhitespaceSensitivity": "ignore", // Vue æ¨¡æ¿ä¸­å¿½ç•¥ç©ºæ ¼æ•æ„Ÿåº¦

  // TypeScript æ”¯æŒä¼˜åŒ–
  "trailingComma": "all", // TypeScript ç±»å‹å®šä¹‰éœ€è¦å°¾é€—å·
  "arrowParens": "always", // TypeScript æ³›å‹å‡½æ•°éœ€è¦æ‹¬å·
  "bracketSpacing": true, // TypeScript æ³›å‹æ›´å¥½çœ‹

  // ç°ä»£ JavaScript/TypeScript é£æ ¼
  "singleQuote": true, // ç°ä»£ JS/TS ç¤¾åŒºæ ‡å‡†
  "printWidth": 100, // ç°ä»£å®½å±æ˜¾ç¤ºå™¨é€‚é…
  "semi": true // TypeScript å»ºè®®ä½¿ç”¨åˆ†å·
}
```

```json [å®Œæ•´.prettierrc]
{
  // ========== åŸºç¡€é…ç½® ==========

  // 1. JSON Schema éªŒè¯ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰
  // ä¸ºVS Codeç­‰ç¼–è¾‘å™¨æä¾›æ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨
  "$schema": "https://json.schemastore.org/prettierrc",

  // 2. è¡Œå®½è®¾ç½®
  // é»˜è®¤80ï¼Œç°ä»£é¡¹ç›®å»ºè®®100-120ï¼Œé€‚åº”å®½å±æ˜¾ç¤ºå™¨
  "printWidth": 100,

  // 3. ç¼©è¿›è®¾ç½®
  "tabWidth": 2, // ç¼©è¿›ç©ºæ ¼æ•°ï¼š2ï¼ˆVue/Reactç¤¾åŒºæ ‡å‡†ï¼‰æˆ–4ï¼ˆä¼ä¸šçº§ï¼‰
  "useTabs": false, // ä½¿ç”¨ç©ºæ ¼è€ŒéTabé”®ç¼©è¿›ï¼Œç¡®ä¿è·¨ç¼–è¾‘å™¨ä¸€è‡´æ€§

  // ========== è¯­æ³•ç¬¦å·é…ç½® ==========

  // 4. åˆ†å·è®¾ç½®
  "semi": true, // è¯­å¥æœ«å°¾æ·»åŠ åˆ†å·ï¼Œå‡å°‘JavaScriptè‡ªåŠ¨åˆ†å·æ’å…¥é—®é¢˜

  // 5. å¼•å·è®¾ç½®
  "singleQuote": true, // ä½¿ç”¨å•å¼•å·ï¼šæ›´ç®€æ´ï¼Œç°ä»£JS/TSç¤¾åŒºæ ‡å‡†
  "quoteProps": "as-needed", // å¯¹è±¡å±æ€§å¼•å·ï¼šä»…åœ¨å¿…éœ€æ—¶æ·»åŠ 
  "jsxSingleQuote": false, // JSXä¸­ä¿æŒåŒå¼•å·ï¼Œä¸HTMLæ ‡å‡†ä¸€è‡´

  // 6. é€—å·è®¾ç½®
  "trailingComma": "all", // æ‰€æœ‰å¤šè¡Œç»“æ„çš„å°¾éšé€—å·ï¼Œå‡å°‘Gitå·®å¼‚

  // ========== ç©ºæ ¼ä¸å¸ƒå±€é…ç½® ==========

  // 7. æ‹¬å·ç©ºæ ¼
  "bracketSpacing": true, // å¯¹è±¡å­—é¢é‡å¤§æ‹¬å·é—´æ·»åŠ ç©ºæ ¼ï¼š{ foo: bar }

  // 8. æ‹¬å·æ¢è¡Œï¼ˆVue3ä¼˜åŒ–å…³é”®ï¼‰
  "bracketSameLine": true, // Vueæ¨¡æ¿ä¸­>æ”¾åœ¨è¡Œå°¾ï¼Œä½¿æ¨¡æ¿æ›´ç´§å‡‘

  // 9. ç®­å¤´å‡½æ•°å‚æ•°æ‹¬å·
  "arrowParens": "always", // ç®­å¤´å‡½æ•°å‚æ•°å§‹ç»ˆæœ‰æ‹¬å·ï¼š(x) => xï¼Œæé«˜å¯è¯»æ€§

  // ========== æ ¼å¼åŒ–èŒƒå›´æ§åˆ¶ ==========

  // 10. æ ¼å¼åŒ–èŒƒå›´ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
  "rangeStart": 0, // ä»ç¬¬0ä¸ªå­—ç¬¦å¼€å§‹æ ¼å¼åŒ–
  "rangeEnd": Infinity, // æ ¼å¼åŒ–åˆ°æ–‡ä»¶æœ«å°¾

  // 11. ç‰¹æ®Šæ³¨é‡Šæ§åˆ¶
  "requirePragma": false, // ä¸éœ€è¦@formatæ³¨é‡Šå³å¯æ ¼å¼åŒ–
  "insertPragma": false, // ä¸è‡ªåŠ¨æ’å…¥@formatæ³¨é‡Š

  // ========== ç‰¹å®šæ–‡ä»¶ç±»å‹å¤„ç† ==========

  // 12. Markdownæ¢è¡Œå¤„ç†
  "proseWrap": "preserve", // ä¿æŒMarkdownåŸæœ‰æ¢è¡Œ

  // 13. HTMLç©ºæ ¼æ•æ„Ÿåº¦
  "htmlWhitespaceSensitivity": "css", // æ ¹æ®CSSæ˜¾ç¤ºè§„åˆ™å¤„ç†HTMLç©ºæ ¼

  // 14. Vue3ç‰¹å®šä¼˜åŒ–ï¼ˆé‡è¦ï¼ï¼‰
  "vueIndentScriptAndStyle": true, // Vueå•æ–‡ä»¶ç»„ä»¶ä¸­ç¼©è¿›<script>å’Œ<style>

  // 15. è¡Œç»“æŸç¬¦ï¼ˆè·¨å¹³å°ä¸€è‡´æ€§ï¼‰
  "endOfLine": "lf", // Unix/Linux/MacOSæ ‡å‡†ï¼ŒGité»˜è®¤è½¬æ¢

  // 16. åµŒå…¥å¼ä»£ç æ ¼å¼åŒ–
  "embeddedLanguageFormatting": "auto", // è‡ªåŠ¨æ ¼å¼åŒ–HTML/CSSä¸­çš„JSä»£ç 

  // 17. å•è¡Œå±æ€§ï¼ˆVueæ¨¡æ¿ä¼˜åŒ–ï¼‰
  "singleAttributePerLine": false, // é»˜è®¤ä¸å¼ºåˆ¶å•è¡Œå±æ€§

  // ========== æ–‡ä»¶ç±»å‹è¦†ç›–è§„åˆ™ ==========
  // é’ˆå¯¹ä¸åŒæ–‡ä»¶ç±»å‹åº”ç”¨ç‰¹å®šé…ç½®

  "overrides": [
    // 1. Vue/HTMLæ–‡ä»¶ç‰¹æ®Šå¤„ç†
    {
      "files": ["*.vue", "*.html"],
      "options": {
        "parser": "vue", // ä½¿ç”¨Vueä¸“ç”¨è§£æå™¨
        "printWidth": 100, // ä¿æŒä¸€è‡´çš„æ‰“å°å®½åº¦
        "singleAttributePerLine": true, // Vueæ¨¡æ¿ä¸­æ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œï¼Œæé«˜å¯è¯»æ€§
        "htmlWhitespaceSensitivity": "ignore" // Vueæ¨¡æ¿ä¸­å¿½ç•¥ç©ºæ ¼ï¼Œé¿å…æ ¼å¼åŒ–ç ´åå¸ƒå±€
      }
    },

    // 2. TypeScriptæ–‡ä»¶
    {
      "files": ["*.ts", "*.tsx"],
      "options": {
        "parser": "typescript" // ä½¿ç”¨TypeScriptè§£æå™¨ï¼Œæ”¯æŒTSè¯­æ³•
      }
    },

    // 3. JavaScriptæ–‡ä»¶
    {
      "files": ["*.js", "*.jsx", "*.mjs", "*.cjs"],
      "options": {
        "parser": "babel" // ä½¿ç”¨Babelè§£æå™¨ï¼Œæ”¯æŒæœ€æ–°JSè¯­æ³•
      }
    },

    // 4. JSONæ–‡ä»¶
    {
      "files": ["*.json", "*.json5"],
      "options": {
        "parser": "json", // JSONä¸“ç”¨è§£æå™¨
        "tabWidth": 2, // JSONé€šå¸¸ä½¿ç”¨2ç©ºæ ¼ç¼©è¿›
        "trailingComma": "none" // JSONè§„èŒƒä¸å…è®¸å°¾éšé€—å·
      }
    },

    // 5. Markdownæ–‡ä»¶
    {
      "files": ["*.md", "*.mdx"],
      "options": {
        "parser": "markdown", // Markdownä¸“ç”¨è§£æå™¨
        "proseWrap": "always", // æ®µè½è‡ªåŠ¨æ¢è¡Œï¼Œæé«˜å¯è¯»æ€§
        "printWidth": 80 // Markdowné€‚åˆè¾ƒçª„çš„è¡Œå®½
      }
    },

    // 6. CSS/SCSS/LESSæ–‡ä»¶
    {
      "files": ["*.css", "*.scss", "*.less"],
      "options": {
        "parser": "css", // CSSä¸“ç”¨è§£æå™¨
        "singleQuote": false // CSSä¸­é€šå¸¸ä½¿ç”¨åŒå¼•å·
      }
    },

    // 7. YAMLæ–‡ä»¶
    {
      "files": ["*.yaml", "*.yml"],
      "options": {
        "parser": "yaml", // YAMLä¸“ç”¨è§£æå™¨
        "singleQuote": true // YAMLä¸­å•å¼•å·æ›´å¸¸è§
      }
    }
  ]
}
```

:::

---

é€šè¿‡åˆç†é…ç½®å’Œä½¿ç”¨ï¼ŒPrettier èƒ½å¤Ÿæ˜¾è‘—æå‡ä»£ç **å¯è¯»æ€§**ã€**å›¢é˜Ÿåä½œæ•ˆç‡**å’Œ**é¡¹ç›®ç»´æŠ¤æ€§**ï¼Œæ˜¯ç°ä»£å‰ç«¯é¡¹ç›®ä¸å¯æˆ–ç¼ºçš„å·¥å…·ä¹‹ä¸€ã€‚
